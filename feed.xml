<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" xml:lang="en"><generator uri="https://jekyllrb.com/" version="4.3.3">Jekyll</generator><link href="https://gaigebell.github.io/feed.xml" rel="self" type="application/atom+xml"/><link href="https://gaigebell.github.io/" rel="alternate" type="text/html" hreflang="en"/><updated>2024-09-02T14:20:32+00:00</updated><id>https://gaigebell.github.io/feed.xml</id><title type="html">Bellâ€™s Personal Collection</title><subtitle>A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. </subtitle><entry><title type="html">Atcoder</title><link href="https://gaigebell.github.io/blog/2024/atcoder/" rel="alternate" type="text/html" title="Atcoder"/><published>2024-09-02T14:18:00+00:00</published><updated>2024-09-02T14:18:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/atcoder</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/atcoder/"><![CDATA[<p>[toc]</p> <h3 id="a---369-atcoderjp"><a href="https://atcoder.jp/contests/abc369/tasks/abc369_a">A - 369 (atcoder.jp)</a></h3> <p>#math ç»™ä¸¤ä¸ªæ•´æ•° $A, B$ ï¼Œæ‰¾ä¸€ä¸ª $x$ ä½¿å¾—è¿™ 3 ä¸ªæ•°å¯ä»¥æ’æˆç­‰å·®æ•°åˆ—. é—®è¿™æ ·çš„ $x$ æœ‰å¤šå°‘ä¸ª. $1\leq A,B \leq 100$</p> <p>ä¸å¦¨ä»¤ $A\leq B$</p> <ol> <li>$x,A,B$ ï¼š$x = A-(B-A)$</li> <li>$A,x,B$ ï¼š$x = \dfrac{A+B}{2}$</li> <li>$A,B,x$ ï¼š$x = B+(B-A)$</li> </ol> <p>ç¬¬2ç§è¦æ±‚ $A+B$ æ¨¡ 2 ä¸º 0. å¦‚æœ $A=B$ åˆ™ 3 ç§æƒ…å†µä¸‹çš„ $x$ æ˜¯ç›¸åŒçš„.</p> <h3 id="b---piano-3-atcoderjp"><a href="https://atcoder.jp/contests/abc369/tasks/abc369_b">B - Piano 3 (atcoder.jp)</a></h3> <p>#simulation Takahashi å°†åœ¨é’¢ç´ä¸ŠæŒ‰é¡ºåºæŒ‰ä¸‹ $N$ ä¸ªç´é”®ï¼Œç¬¬ $i$ æ¬¡æŒ‰ä¸‹ç´é”® $A_i$ ï¼Œå¦‚æœæ­¤æ—¶ $S_i = \text L$ é‚£ä¹ˆç”¨å·¦æ‰‹å¼¹ä¸‹ï¼Œå¦‚æœ $S_i = \text R$ é‚£ä¹ˆç”¨å³æ‰‹å¼¹ä¸‹. æœ€å¼€å§‹ç–²åŠ³ç¨‹åº¦ä¸º 0 ï¼Œå½“ä»–çš„ä¸€åªæ‰‹ä»ç´é”® $x$ ç§»åŠ¨åˆ° $y$ æ—¶ï¼Œç–²åŠ³å€¼å¢åŠ  $|y-x|$ . æ‰¾åˆ°å¼¹è¿™ä¸ªè°±å­çš„æœ€å°ç–²åŠ³å€¼. $1\leq N\leq 100,1\leq A_i\leq 100$</p> <p>Takahashi åªèƒ½æŒ‰é¡ºåºå¼¹ï¼Œæ‰€ä»¥ç›´æ¥è®¡ç®—å·¦æ‰‹ç´¯ç§¯çš„ç–²åŠ³å€¼åŠ ä¸Šå³æ‰‹ç´¯ç§¯çš„ç–²åŠ³å€¼å³å¯</p> <h3 id="c---count-arithmetic-subarrays-atcoderjp"><a href="https://atcoder.jp/contests/abc369/tasks/abc369_c">C - Count Arithmetic Subarrays (atcoder.jp)</a></h3> <p>#math #combinatorics ç»™ä¸€ä¸ªæœ‰ $N$ ä¸ªæ­£æ•´æ•°çš„åºåˆ— $A = (A_1,A_2,â€¦,A_N)$. è®¡ç®—æ»¡è¶³ä»¥ä¸‹è¦æ±‚çš„æ•´æ•°å¯¹ $(l,r)$ çš„æ•°é‡ï¼š $1\leq l\leq r\leq N$ ä½¿å¾— $(A_l,A_{l + 1},â€¦,A_{r})$ æ˜¯ç­‰å·®æ•°åˆ— $1\leq N\leq 2\times 10^5,1\leq A_i \leq 10^9$</p> <p>ğŸ¤“â˜ï¸çŸ¥é“å¦‚æœä¸€ä¸ªåºåˆ— $a_1,â€¦,a_n$ æ˜¯ç­‰å·®æ•°åˆ—ï¼Œé‚£ä¹ˆ $\forall 1\leq l\leq r\leq n, a_l,â€¦,a_r$ éƒ½æ˜¯ç­‰å·®æ•°åˆ—. äºæ˜¯æˆ‘ä»¬è€ƒè™‘æ‰¾åˆ°æœ€é•¿çš„é‚£äº›ç­‰å·®æ•°åˆ— $(l_1,r_1),(l_2,r_2),â€¦,(l_m,r_m)$ ï¼Œæ˜¾ç„¶ $r_1\leq l_2,r_2\leq l_3,â€¦,r_i\leq l_{i + 1}$ ï¼Œé‚£ä¹ˆç­”æ¡ˆçš„ä¸€éƒ¨åˆ†å°±æ˜¯ \(\sum_{i = 1}^m \dfrac{(r_i - l_i + 1)(r_i - l_i)}{2}\) è¿™é‡Œæ„æ€æ˜¯è¯´ï¼Œæ ¹æ®ä¸Šé¢çš„æ€§è´¨ï¼Œæˆ‘ä»¬åªè¦çœ‹ä» $(l,r)$ é‡Œé€‰ä¸¤ä¸ªç«¯ç‚¹ï¼Œè¿™ä¿©ç«¯ç‚¹ä¹‹é—´çš„åºåˆ—ä¸€å®šæ˜¯ç­‰å·®æ•°åˆ—ï¼Œæ‰€ä»¥å°±æ˜¯è®¡ç®—ä» $r-l+1$ ä¸ªç‚¹é‡Œé€‰ä¸¤ä¸ªçš„ç»„åˆæ•° $\binom{r-l+1}{2}$ ä¹Ÿå°±æ˜¯ä¸Šé¢é‚£ä¸ªå½¢å¼. ç„¶åå†åŠ ä¸Šé•¿åº¦ä¸º 1 çš„æ•°åˆ—ä¸ªæ•°å°±æ˜¯ç­”æ¡ˆäº†.</p> <blockquote> <p>[!code]- Code</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span> <span class="o">=</span> <span class="mf">2e5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">],</span><span class="n">d</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">];</span>
<span class="n">ll</span> <span class="n">ans</span><span class="p">,</span><span class="n">L</span><span class="p">,</span><span class="n">R</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="k">if</span><span class="p">(</span><span class="n">N</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">ans</span> <span class="o">=</span> <span class="n">N</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">];</span>
  <span class="n">L</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">R</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">3</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">d</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">d</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span>
    <span class="p">{</span>
      <span class="n">R</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">ans</span> <span class="o">+=</span> <span class="p">(</span><span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
      <span class="n">L</span> <span class="o">=</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
      <span class="n">R</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">ans</span> <span class="o">+=</span> <span class="p">(</span><span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="n">R</span><span class="o">-</span><span class="n">L</span><span class="p">)</span><span class="o">/</span><span class="mi">2</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </div> <h3 id="d---bonus-exp-atcoderjp"><a href="https://atcoder.jp/contests/abc369/tasks/abc369_d">D - Bonus EXP (atcoder.jp)</a></h3> <p>#dp Takahashi å°†æŒ‰é¡ºåºé‡åˆ° $N$ åªæ€ªç‰©ï¼Œç¬¬ $i$ åªæ€ªç‰©æœ‰åŠ›é‡å€¼ $A_i$. å¯¹äºæ¯åªæ€ªç‰©ï¼Œä»–å¯ä»¥é€‰æ‹©æ”¾èµ°æˆ–è€…æ‰“è´¥å®ƒ. æ¯æ¬¡è¡ŒåŠ¨å¾—åˆ°çš„ç»éªŒå€¼æƒ…å†µå¦‚ä¸‹ï¼š</p> <ul> <li>å¦‚æœæ”¾èµ°è¿™åªæ€ªç‰©ï¼Œä»–å°†è·å¾— 0 ç»éªŒå€¼</li> <li>å¦‚æœä»–å‡»è´¥è¿™åªæ€ªç‰©ï¼Œè¿™åªæ€ªç‰©æœ‰åŠ›é‡å€¼ $X$ ï¼Œé‚£ä¹ˆä»–å°†è·å¾— $X$ ç»éªŒå€¼.</li> <li>å¦‚æœè¿™åªæ€ªç‰©æ˜¯ç¬¬å¶æ•°ä¸ªè¢«å‡»è´¥çš„ï¼Œé‚£ä¹ˆä»–å°†é¢å¤–å†è·å¾— $X$ ç»éªŒå€¼. æ±‚ä»–å¯ä»¥è·å¾—çš„æœ€å¤§ç»éªŒå€¼. $1\leq N\leq 2\times 10^5,1\leq A_i \leq 10^9$</li> </ul> </blockquote> <p>æ¯æ¬¡é¢å¯¹æ€ªç‰©éƒ½æœ‰ä¸¤ç§é€‰æ‹©ï¼Œå°†æ¯æ¬¡é¢å¯¹æ€ªç‰©è§†ä¸ºä¸€ä¸ªé˜¶æ®µï¼Œé€‰æ‹©ä½œä¸ºå†³ç­–ï¼ŒåŒæ—¶è¿˜éœ€è¦çŸ¥é“å‡»è´¥çš„è¿™åªæ€ªç‰©æ˜¯ç¬¬å¥‡æ•°ä¸ªè¢«å‡»è´¥è¿˜æ˜¯ç¬¬å¶æ•°ä¸ªè¢«å‡»è´¥. è€ƒè™‘ DP. è®¾ $f(i,0/1)$ è¡¨ç¤ºé‡åˆ°ç¬¬ $i$ åªæ€ªç‰©ï¼Œæœ€åä¸€ä¸ªè¢«å‡»è´¥çš„æ€ªç‰©æ˜¯ç¬¬å¶æ•°ä¸ª/ç¬¬å¥‡æ•°ä¸ªæ—¶çš„æœ€å¤§ç»éªŒå€¼.</p> <ul> <li>æ”¾èµ°è¿™åªæ€ªç‰© \(f(i,0) = \max(f(i,0),f(i-1,0))\) \(f(i,1) = \max(f(i,1),f(i - 1,1))\)</li> <li>å‡»è´¥è¿™åªæ€ªç‰© \(f(i,0) = \max(f(i,0),f(i - 1,1) + A_i + A_i)\) \(f(i,1) = \max(f(i,1),f(i - 1,0) + A_i)\)</li> </ul> <p>$\max{f(N,0),f(N,1)}$ å³ä¸ºç­”æ¡ˆ.</p> <blockquote> <p>[!code]- Code</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span> <span class="o">=</span> <span class="mf">2e5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">;</span>
<span class="n">ll</span> <span class="n">a</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">][</span><span class="mi">5</span><span class="p">];</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
  <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]);</span>
    <span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">max</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="mi">1</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="n">N</span><span class="p">][</span><span class="mi">0</span><span class="p">]);</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </div> <h3 id="e---sightseeing-tour-atcoderjp"><a href="https://atcoder.jp/contests/abc369/tasks/abc369_e">E - Sightseeing Tour (atcoder.jp)</a></h3> <p>#graph/shortest-path/floyd #brute-force #dfs æœ‰ $N$ ä¸ªå°å²›å’Œ $M$ ä¸ªè¿æ¥ä¸¤ä¸ªå°å²›çš„åŒå‘æ¡¥. æ²¡æœ‰è‡ªç¯ï¼Œä½†æ˜¯ä¸¤åº§å²›ä¹‹é—´æœ‰å¤šä¸ªæ¡¥. ç¬¬ $i$ ä¸ªæ¡¥è¿æ¥å°å²› $U_i$ å’Œ $V_i$ ï¼ŒèŠ±è´¹æ—¶é—´ $T_i$. ç»™ $Q$ ä¸ªè¯¢é—®ï¼Œå›ç­”è¿™äº›è¯¢é—®ï¼Œç¬¬ $i$ ä¸ªè¯¢é—®å†…å®¹å¦‚ä¸‹ï¼š ç°åœ¨ç»™ $K_i$ ä¸ªä¸åŒçš„æ¡¥ï¼Œ$B_{i,1},B_{i,2},â€¦,B_{i,K_i}$ï¼Œ æ±‚å‡ºå¿…é¡»ç»è¿‡è¿™äº›æ¡¥çš„ä»å°å²› $1$ åˆ°å°å²› $N$ çš„æœ€çŸ­ç”¨æ—¶ ä½ å¯ä»¥ä»¥ä»»æ„æ–¹å‘æˆ–é¡ºåºç©¿è¿‡è¿™äº›æ¡¥. $2\leq N\leq 400$ $N-1\leq M\leq 2\times 10^5$ $1\leq U_i &lt; V_i \leq N$ $1\leq T_i \leq 10^9$ $1\leq Q\leq 3000$ $1\leq K_i \leq 5$ $1\leq B_{i,1} &lt; B_{i,2} &lt; â€¦ &lt; B_{i,K_i} \leq M$</p> </blockquote> <p>é¢˜ç›®çœ‹ç€å¥½å¤æ‚ TwTâ€¦ ğŸ¤“â˜ï¸ $N\leq 400$ ! $K_i \leq 5$ ! $Q\leq 3000$ ! ä¸å¦¨å…ˆç”¨æœ€ç®€å•ç²—æš´çš„æ–¹æ³•åšä¸€åšï¼ å› ä¸ºè¿™ä¸ªå¿…é¡»é€šè¿‡çš„æ¡¥æœ€å¤šåªæœ‰ 5 åº§ï¼Œé‚£ä¹ˆé€šè¿‡çš„é¡ºåºä¸€å…±æœ‰ $K!=120$ ç§ï¼Œç„¶ååˆå¯ä»¥ä»ä»»æ„æ–¹å‘é€šè¿‡ï¼Œåˆæœ‰ $2^K=32$ ç§é€šè¿‡æ–¹å¼ï¼Œæ€»å…±å°±æ˜¯ $3840$ ç§æ–¹å¼. è€Œ $Q\leq 3000$ ï¼Œé‚£ä¹ˆç›´æ¥æšä¸¾æ‰€æœ‰å¯èƒ½æ€§æ˜¯ä¸ä¼šè¶…æ—¶çš„. $N\leq 400$ ï¼Œå¯ä»¥ç”¨ Floyd å…ˆæ±‚å‡ºæ‰€æœ‰å°å²›ä¹‹é—´çš„æœ€çŸ­ç”¨æ—¶ï¼Œç„¶åæšä¸¾æ‰€æœ‰æƒ…å†µï¼Œæ¯”å¦‚æŸç§æƒ…å†µæ˜¯ $V_0 = 1,U_1,V_1,U_2,V_2,â€¦,U_K,V_K,U_{K+1}=N$ é‚£ä¹ˆç”¨æ—¶å°±æ˜¯ $\sum dis(U_i,V_{i - 1}) + \sum T_i$ åœ¨æ‰€æœ‰æƒ…å†µä¸­å–æœ€å°å€¼å³å¯.</p> <blockquote> <p>[!code]- Code</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span> <span class="o">=</span> <span class="mf">2e5</span><span class="p">;</span>
<span class="k">const</span> <span class="n">ll</span> <span class="n">inf</span> <span class="o">=</span> <span class="mf">1e15</span> <span class="o">+</span> <span class="mi">7</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="n">M</span><span class="p">,</span><span class="n">Q</span><span class="p">,</span><span class="n">K</span><span class="p">;</span>
<span class="k">struct</span> <span class="nc">bridge</span><span class="p">{</span>
  <span class="kt">int</span> <span class="n">from</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">to</span><span class="p">;</span>
  <span class="n">ll</span> <span class="n">ti</span><span class="p">;</span>
<span class="p">}</span><span class="n">b</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">a</span><span class="p">[</span><span class="mi">10</span><span class="p">],</span><span class="n">rec</span><span class="p">[</span><span class="mi">20</span><span class="p">];</span>
<span class="kt">bool</span> <span class="n">vis</span><span class="p">[</span><span class="mi">10</span><span class="p">];</span>
<span class="n">ll</span> <span class="n">dis</span><span class="p">[</span><span class="mi">505</span><span class="p">][</span><span class="mi">505</span><span class="p">];</span>

<span class="n">ll</span> <span class="nf">solve</span><span class="p">(</span><span class="kt">int</span> <span class="n">now</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">now</span> <span class="o">==</span> <span class="n">K</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="k">return</span> <span class="n">dis</span><span class="p">[</span><span class="n">rec</span><span class="p">[</span><span class="n">K</span><span class="o">+</span><span class="n">K</span><span class="p">]][</span><span class="n">N</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="k">else</span>
  <span class="p">{</span>
     <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
        <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">from</span><span class="p">;</span>
        <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">to</span><span class="p">;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">dis</span><span class="p">[</span><span class="n">rec</span><span class="p">[</span><span class="n">now</span><span class="o">+</span><span class="n">now</span><span class="o">-</span><span class="mi">2</span><span class="p">]][</span><span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">ti</span> <span class="o">+</span> <span class="n">solve</span><span class="p">(</span><span class="n">now</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
        <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">to</span><span class="p">;</span>
        <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span><span class="p">]</span> <span class="o">=</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">from</span><span class="p">;</span>
        <span class="n">res</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">res</span><span class="p">,</span><span class="n">dis</span><span class="p">[</span><span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">2</span><span class="p">]][</span><span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]]</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]].</span><span class="n">ti</span> <span class="o">+</span> <span class="n">solve</span><span class="p">(</span><span class="n">now</span> <span class="o">+</span> <span class="mi">1</span><span class="p">));</span>
        <span class="n">vis</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
        <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">rec</span><span class="p">[</span><span class="n">now</span> <span class="o">+</span> <span class="n">now</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
  <span class="p">}</span>
  
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span> <span class="o">&gt;&gt;</span> <span class="n">M</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">==</span> <span class="n">j</span><span class="p">)</span> <span class="n">dis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
      <span class="k">else</span> <span class="n">dis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">M</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">from</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ti</span><span class="p">;</span>
    <span class="n">dis</span><span class="p">[</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">from</span><span class="p">][</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span><span class="p">]</span> <span class="o">=</span> <span class="n">dis</span><span class="p">[</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">from</span><span class="p">][</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">dis</span><span class="p">[</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">from</span><span class="p">][</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span><span class="p">],</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ti</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">k</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">k</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">k</span> <span class="o">++</span><span class="p">)</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
      <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
        <span class="n">dis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">dis</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">dis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">dis</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">k</span><span class="p">]</span> <span class="o">+</span> <span class="n">dis</span><span class="p">[</span><span class="n">k</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">Q</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">qq</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">qq</span> <span class="o">&lt;=</span> <span class="n">Q</span><span class="p">;</span><span class="n">qq</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">K</span><span class="p">;</span><span class="n">rec</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">K</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
      <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">solve</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </div> <h4 id="e---apple-baskets-on-circle-atcoderjp"><a href="https://atcoder.jp/contests/abc270/tasks/abc270_e">E - Apple Baskets on Circle (atcoder.jp)</a></h4> <p>#simulation #sort #binary-search æœ‰ $N$ ä¸ªç¯®å­å›´æˆä¸€åœˆï¼Œç¬¬ $i$ ä¸ªç¯®å­æœ‰ $A_i$ ä¸ªè‹¹æœï¼Œä»ç¬¬ 1 ä¸ªç¯®å­å¼€å§‹ï¼Œå¦‚æœå½“å‰ç¯®å­æœ‰è‹¹æœå°±åƒ 1 ä¸ªï¼Œæ— è®ºæœ‰æ²¡æœ‰åƒä¸Šè‹¹æœï¼Œéƒ½åˆ°ä¸‹ä¸€ä¸ªç¯®å­å»ï¼Œé‡å¤ä»¥ä¸Šæ­¥éª¤. å½“æ°å¥½åƒäº† $K$ ä¸ªè‹¹æœçš„æ—¶å€™ï¼Œæ¯ä¸ªç¯®å­é‡Œè¿˜å‰©å¤šå°‘è‹¹æœ $1\leq N \leq 10^5, 0\leq A_i \leq 10^12, 1\leq K \leq 10^12, \sum A_i \geq K$</p> </blockquote> <p>è€ƒè™‘åˆ°æ¯ä¸ªç¯®å­å‰éƒ½ä¼šåƒ 1 ä¸ªè‹¹æœçš„æƒ…å†µï¼Œè¿™ä¸ªæ—¶å€™æ‰€æœ‰ç¯®å­éƒ½æœ‰è‹¹æœï¼Œåƒ 1 åœˆå°±åƒæ‰ $N$ ä¸ªè‹¹æœï¼Œæ‰€ä»¥å½“å‡ºç°ç©ºç¯®å­çš„æ—¶å€™ï¼Œä¸€å®šæ˜¯æœ€å°‘è‹¹æœçš„ç¯®å­å˜ç©ºï¼Œè€Œè¿™æ—¶å·²ç»åƒäº† $A_{min}\times N$ ä¸ªè‹¹æœ. æ¥ç€åªè¦æŠŠç©ºç¯®å­æ’é™¤åœ¨å¤–ï¼Œé—®é¢˜åˆè½¬åŒ–ä¸ºä¸Šè¿°æƒ…å†µ. äºæ˜¯å¯ä»¥è€ƒè™‘å…ˆå°†ç¯®å­æŒ‰è‹¹æœçš„å¤šå°‘æ’ä¸ªåº. ç„¶åå¯ä»¥åƒ $A_{min}\times N + A_{min2}\times(N-1) + \cdots$ ä¸ªè‹¹æœï¼Œç›´è‡³è¿˜è¦åƒçš„è‹¹æœæ•°ä¸å¤Ÿåƒç©ºæœ€å°‘è‹¹æœçš„ç¯®å­ï¼Œç„¶åç‰¹æ®Šå¤„ç†ï¼Œæœ€ç»ˆè¿˜è¦åƒçš„è‹¹æœä¸å¤Ÿåƒ1åœˆå‰©ä¸‹è¿˜æœ‰è‹¹æœçš„ç¯®å­ï¼Œè¿™ä¸ªæ—¶å€™æŒ‰é¡ºåºæ’åºï¼Œé€ä¸ªé€ä¸ªåƒå…‰è¦åƒçš„è‹¹æœæ•°å³å¯.</p> <blockquote> <p>[!code]- Code</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;bits/stdc++.h&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">int</span> <span class="n">maxn</span> <span class="o">=</span> <span class="mf">1e5</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="n">pos</span><span class="p">;</span>
<span class="n">ll</span> <span class="n">K</span><span class="p">,</span><span class="n">acc</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
<span class="k">struct</span> <span class="nc">basket</span><span class="p">{</span>
  <span class="n">ll</span> <span class="n">val</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">id</span><span class="p">;</span>
<span class="p">}</span><span class="n">a</span><span class="p">[</span><span class="n">maxn</span> <span class="o">+</span> <span class="mi">5</span><span class="p">];</span>

<span class="kt">bool</span> <span class="nf">cmp2</span><span class="p">(</span><span class="n">basket</span> <span class="n">x</span><span class="p">,</span> <span class="n">basket</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">id</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">basket</span> <span class="n">x</span><span class="p">,</span> <span class="n">basket</span> <span class="n">y</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="p">.</span><span class="n">val</span> <span class="o">!=</span> <span class="n">y</span><span class="p">.</span><span class="n">val</span><span class="p">)</span> <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">val</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">.</span><span class="n">val</span><span class="p">;</span>
  <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">id</span> <span class="o">&lt;</span> <span class="n">y</span><span class="p">.</span><span class="n">id</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">ll</span> <span class="nf">bisearch</span><span class="p">(</span><span class="n">ll</span> <span class="n">nn</span><span class="p">,</span><span class="n">ll</span> <span class="n">R</span><span class="p">,</span><span class="n">ll</span> <span class="n">tot</span><span class="p">)</span>
<span class="p">{</span>
  <span class="n">ll</span> <span class="n">L</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">ll</span> <span class="n">mid</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(;</span><span class="n">L</span> <span class="o">&lt;=</span> <span class="n">R</span><span class="p">;)</span>
  <span class="p">{</span>
    <span class="n">mid</span> <span class="o">=</span> <span class="p">(</span><span class="n">L</span> <span class="o">+</span> <span class="n">R</span><span class="p">)</span> <span class="o">&gt;&gt;</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">mid</span> <span class="o">*</span> <span class="n">nn</span> <span class="o">&lt;=</span> <span class="n">tot</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">res</span> <span class="o">=</span> <span class="n">mid</span><span class="p">;</span>
      <span class="n">L</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="n">R</span> <span class="o">=</span> <span class="n">mid</span> <span class="o">-</span> <span class="mi">1</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">N</span> <span class="o">&gt;&gt;</span> <span class="n">K</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span><span class="p">;</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">id</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">N</span><span class="p">,</span> <span class="n">cmp</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">lf</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">-=</span> <span class="n">acc</span><span class="p">;</span>
    <span class="n">lf</span> <span class="o">=</span> <span class="n">N</span> <span class="o">-</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">lf</span><span class="o">*</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">&gt;=</span> <span class="n">K</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">m</span> <span class="o">=</span> <span class="n">bisearch</span><span class="p">(</span><span class="n">lf</span><span class="p">,</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span><span class="p">,</span><span class="n">K</span><span class="p">);</span>
      <span class="n">acc</span> <span class="o">+=</span> <span class="n">m</span><span class="p">;</span>
      <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">-=</span> <span class="n">m</span><span class="p">;</span>
      <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">].</span><span class="n">val</span> <span class="o">-=</span> <span class="n">acc</span><span class="p">;</span>
      <span class="n">K</span> <span class="o">-=</span> <span class="n">lf</span><span class="o">*</span><span class="n">m</span><span class="p">;</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span>
    <span class="p">{</span>
      <span class="n">K</span> <span class="o">-=</span> <span class="n">lf</span> <span class="o">*</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span><span class="p">;</span>
      <span class="n">acc</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span><span class="p">;</span>
      <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="n">a</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">N</span><span class="p">,</span><span class="n">cmp2</span><span class="p">);</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">K</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">--</span><span class="p">;</span>
      <span class="n">K</span> <span class="o">--</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">val</span> <span class="o">&lt;&lt;</span> <span class="sc">' '</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div> </div> </blockquote> <h4 id="d---i-hate-non-integer-number-atcoderjp"><a href="https://atcoder.jp/contests/abc262/tasks/abc262_d">D - I Hate Non-integer Number (atcoder.jp)</a></h4> <p>#dp #combinatorics ç»™ä¸€ä¸ªé•¿åº¦ä¸º $N$ çš„æ•°ç»„ $A = (a_1,â€¦,a_N)$, æœ‰ $2^N - 1$ ç§æ–¹å¼ä» $A$ ä¸­é€‰å‡ºä¸€ä¸ªæˆ–æ›´å¤šæ•°. å…¶ä¸­æœ‰å¤šå°‘ç§æ–¹æ¡ˆï¼Œé€‰å‡ºçš„æ•°çš„å¹³å‡æ•°æ˜¯æ•´æ•°ï¼Ÿç­”æ¡ˆæ¨¡ 998244353 $1\leq N \leq 100, 1\leq a_i \leq 10^9$</p> <p>è€ƒè™‘åˆ°æ±‚ $(a_1+â€¦+a_m)\mod m$ çš„æ–¹æ¡ˆæ•°ï¼Œè¿™ç±»å‹çš„è¿ç®—æ»¡è¶³åˆ†é…å¾‹ï¼Œå¯ä»¥è€ƒå¯Ÿæ‰€æœ‰ç»„åˆä¸‹å¯¹æ‰€æœ‰å¯èƒ½çš„æ¨¡æ•°å–æ¨¡å¾—åˆ°çš„ç»“æœçš„æ–¹æ¡ˆæ•°. å…·ä½“åœ°è¯´ï¼Œè®¾ $f(i,j,k,m)$ è¡¨ç¤ºå‰ $i$ ä¸ªæ•°é€‰äº† $j$ ä¸ªï¼Œæ¨¡æ•°ä¸º $k$ ç»“æœä¸º $m$ çš„æ–¹æ¡ˆæ•°. â€œå‰ $i$ ä¸ªæ•°é€‰ $j$ ä¸ªâ€æ˜æ˜¾æ˜¯æ±‚ç»„åˆé€‰æ‹©æ–¹æ¡ˆæ•°çš„ç»å…¸æ–¹æ³•ï¼Œâ€œæ¨¡æ•°ä¸º $k$ ç»“æœä¸º $m$â€ åˆ™æ˜¯æ ¹æ®æ¨¡è¿ç®—å’ŒåŠ æ³•è¿ç®—ç»“åˆçš„æ€§è´¨è€Œæƒ³åˆ°çš„. æ­¤æ—¶è½¬ç§»æ–¹ç¨‹å‘¼ä¹‹æ¬²å‡º. \(f(i,j,k,(m+a_i)\bmod k) = f(i-1,j,k,(m+a_i)\bmod k) + f(i-1,j-1,k,m)\) $O(N^4)$ ä¸æ»¡ï¼Œå¯è¿‡ ç±»ä¼¼çš„é¢˜ç›® [[Leetcode Record#<a href="https //leetcode.cn/problems/find-the-largest-palindrome-divisible-by-k/description/">3260. æ‰¾å‡ºæœ€å¤§çš„ N ä½ K å›æ–‡æ•°</a>]]</p> <blockquote> <p>[!code]- Code</p> <pre><code class="language-Cpp">#include&lt;bits/stdc++.h&gt;

using namespace std;
typedef long long ll;
const int maxn = 100;
const ll modn = 998244353;
int N;
ll a[maxn + 5];
ll f[maxn + 5][maxn + 5][maxn + 5][maxn + 5],ans;

int main()
{
  cin &gt;&gt; N;
  for(int i = 1;i &lt;= N;i ++) cin &gt;&gt; a[i];
  // initialization
  for(int i = 0;i &lt;= N;i ++)
    for(ll k = 1;k &lt;= N;k ++)
      f[i][0][k][0] = 1;
//DP
  for(int i = 1;i &lt;= N;i ++)
  {
    for(int j = 1;j &lt;= i;j ++)
    {
      for(ll k = 1;k &lt;= N;k ++)
      {
        for(ll m = 0, p = 0;m &lt; k;m ++)
        {
          p = (m + a[i])%k;
          f[i][j][k][p] = (f[i - 1][j - 1][k][m]%modn + f[i - 1][j][k][p]%modn)%modn;
        }
      }
    }
  }
  for(int j = 1;j &lt;= N;j ++)
  {
    ans = (ans%modn + f[N][j][j][0]%modn)%modn;
    //cout &lt;&lt; f[N][j][j][0] &lt;&lt; endl;
  }
  cout &lt;&lt; ans%modn;
  return 0;
}
</code></pre> </blockquote> <h3 id="agc024">AGC024</h3> <p>#greedy</p> <h4 id="b---backfront">B - Backfront</h4> <p>é¢˜æ„ï¼šç»™ä¸€ä¸ª $1\sim N$ çš„æ’åˆ— $P$ ï¼Œé€šè¿‡ä»¥ä¸‹æ“ä½œå°†è¿™ä¸ªæ’åˆ—æ’åºï¼Œä½¿æ‰€æœ‰å…ƒç´ ä»å°åˆ°å¤§æ’åˆ—ã€‚</p> <ul> <li>é€‰ä¸€ä¸ªåºåˆ—ä¸­çš„å…ƒç´ ï¼Œå°†å®ƒç§»åˆ°åºåˆ—çš„å¼€å¤´æˆ–è€…ç»“å°¾ã€‚</li> </ul> <p>é—®æœ€å°‘è¦æ“ä½œå¤šå°‘æ¬¡æ‰èƒ½å°†åºåˆ—æ’å¥½åºã€‚</p> <p>æ¬è¿ Editorial</p> <p>è€ƒè™‘ä¸ç”¨æ‰§è¡Œæ“ä½œå°±å·²ç»æ’å¥½åºçš„å­åºåˆ—æ»¡è¶³ä»€ä¹ˆæ¡ä»¶ï¼š</p> <ul> <li>å¦‚æœ $x_i &lt; x_{i + 1}$ é‚£ä¹ˆï¼Œè¦æ»¡è¶³ $x_i$ åœ¨ $x_{i + 1}$ å³è¾¹ã€‚</li> <li>æ»¡è¶³ $x_i + 1 = x_{i + 1}$</li> </ul> <p>äºæ˜¯æˆ‘ä»¬å¯ä»¥æ‰¾å‡ºæœ€é•¿çš„æ»¡è¶³ä»¥ä¸Šæ¡ä»¶çš„å­åºåˆ—ï¼Œç„¶åå‰©ä¸‹çš„å…ƒç´ å…¨éƒ¨æ“ä½œä¸€éå°±å¯ä»¥å°†åºåˆ—æ’å¥½åºã€‚</p> <p>è¯æ˜è€ƒè™‘è´ªå¿ƒï¼Œ</p> <h3 id="abc184">ABC184</h3> <p>#probabilty/expectation</p> <h4 id="d---increment-of-coinsç®€å•æœŸæœ›">D - increment of coinsï¼ˆç®€å•æœŸæœ›ï¼‰</h4> <p>é¢˜æ„ï¼šæœ‰ä¸‰ç§ç¡¬å¸ï¼Œåˆ†åˆ«æœ‰ $A,B,C$ ä¸ªï¼Œæ¯æ¬¡éšæœºé€‰å‡ºä¸€ä¸ªç¡¬å¸ï¼Œç„¶åæ”¾å›ä¸¤ä¸ªç›¸åŒç§ç±»çš„ç¡¬å¸ï¼Œç›´è‡³æŸç§ç¡¬å¸è¾¾åˆ° 100 ä¸ªï¼Œé—®æœŸæœ›æ“ä½œæ¬¡æ•°ã€‚</p> <p>è®¾ $f(a,b,c)$ è¡¨ç¤ºä¸‰ç§ç¡¬å¸å·²ç»åˆ†åˆ«æœ‰ $a,b,c$ ä¸ªï¼Œåˆ°å®Œæˆç›®æ ‡è¿˜éœ€è¦çš„æ“ä½œæ¬¡æ•°ã€‚</p> <p>æ˜¾ç„¶ \(f(a,b,c) = \dfrac{a}{a+b+c}\times f(a + 1,b,c) + \dfrac{b}{a+b+c}\times f(a,b+1,c) + \dfrac{c}{a+b+c}\times f(a,b,c+1)\) ç­”æ¡ˆå³ä¸º $f(A,B,C)$</p> <h3 id="agc046">AGC046</h3> <h4 id="b---extension-dp">B - Extension (DP)</h4> <p>#dp é¢˜æ„ï¼šç»™å‡º $A\times B$ çš„ç½‘æ ¼ï¼Œæ‰€æœ‰ç½‘æ ¼æ¶‚æˆç™½è‰²ï¼Œé€šè¿‡ä»¥ä¸‹ä¸¤ç§æ“ä½œæ‰©å±•ä¸º $C\times D$ ï¼š</p> <ol> <li>å‘ä¸Šæ‰©å±•ä¸€è¡Œï¼Œåœ¨æ–°å¢æ ¼å­ä¸­é€‰æ‹©ä¸€ä¸ªæ¶‚æˆé»‘è‰²ï¼Œå…¶å®ƒæ¶‚æˆç™½è‰²ã€‚</li> <li>å‘å³æ‰©å±•ä¸€åˆ—ï¼Œåœ¨æ–°å¢çš„æ ¼å­ä¸­é€‰æ‹©ä¸€ä¸ªæ¶‚æˆé»‘è‰²ï¼Œå…¶å®ƒæ¶‚æˆç™½è‰²ã€‚</li> </ol> <p>é—®æœ€åèƒ½å¾—åˆ°å¤šå°‘ç§ä¸åŒçš„ $C\times D$ çš„ç½‘æ ¼ã€‚</p> <p>è€ƒè™‘å·²ç»æ‹“å±•åˆ° $i\times j$ ï¼Œæœ‰ä¸¤ç§æƒ…å†µæ‹“å±•åˆ° $i\times j$ ï¼š</p> <ol> <li>$(i - 1)\times j\rightarrow i\times j$ ï¼Œä¸Šä¸€æ¬¡å‘ä¸Šæ‹“å±•ï¼Œæ–¹æ¡ˆæ•° $f(i-1,j)\times j$ .</li> <li>$i\times(j-1)\rightarrow i\times j$ ï¼Œä¸Šä¸€æ¬¡å‘å³æ‹“å±•ï¼Œæ–¹æ¡ˆæ•° $f(i,j - 1)\times i$ .</li> </ol> <p>ä½†æ˜¯ä¼šå‡ºç°ç®—é‡çš„æƒ…å†µï¼Œç¬¬ä¸€ç§æƒ…å†µä¸­æ‹“å±•å‰æœ€å³åˆ—åªæœ‰ä¸€ä¸ªé»‘è‰²æ ¼å­çš„æƒ…å†µä¸ç¬¬äºŒç§æƒ…å†µç§æ‹“å±•å‰æœ€é¡¶è¡Œåªæœ‰ä¸€ä¸ªé»‘å­æ ¼å­çš„æƒ…å†µåœ¨æ‹“å±•åä¼šé‡å¤è®¡ç®—ï¼Œäºæ˜¯è€ƒè™‘å»é‡ã€‚</p> <p><img src="C:\Users\47328\Desktop\ä¿¡æ¯å­¦\notes\AGC046B.png" alt="ç®—é‡"/></p> <p>ä¸éš¾å‘ç°ï¼Œåªè¦å‡å»ä¸€æ¬¡è¿™äº›æƒ…å†µçš„æ–¹æ¡ˆæ•°å³å¯ï¼Œç¬¬ä¸€ç§æƒ…å†µä¸­æ‹“å±•å‰æœ€å³åˆ—åªæœ‰ä¸€ä¸ªé»‘è‰²æ ¼å­çš„æƒ…å†µä¸ç¬¬äºŒç§æƒ…å†µç§æ‹“å±•å‰æœ€é¡¶è¡Œåªæœ‰ä¸€ä¸ªé»‘å­æ ¼å­çš„æƒ…å†µæ€»å’Œæ˜¯ $(i - 1)\times(j - 1)\times f(i-1,j-1)$ .</p> <p>äºæ˜¯è½¬ç§»æ–¹ç¨‹ä¸ºï¼š \(f(i,j) = f(i-1,j)\times j+f(i,j-1)\times i-(i-1)\times(j - 1)\times f(i-1,j-1)\)</p> <h3 id="arc097">ARC097</h3> <h4 id="d---equals-å¹¶æŸ¥é›†-æ€§è´¨">D - Equals (å¹¶æŸ¥é›† æ€§è´¨)</h4> <p>#ds/dsu #property é¢˜æ„ï¼šç»™ä¸€ä¸ª $1$ åˆ° $N$ çš„æ•´æ•°æ’åˆ—ï¼Œå†ç»™å‡º $M$ å¯¹æ•´æ•°å¯¹ï¼Œç¬¬ $i$ å¯¹æ•´æ•°å¯¹å¯¹åº”ç€æ“ä½œï¼šå°†æ’åˆ—ä¸­ç¬¬ $x_i$ ä¸ªæ•°å’Œç¬¬ $y_i$ ä¸ªæ•°äº¤æ¢ã€‚æ±‚å‡ºæŒ‰ä»»æ„é¡ºåºæ‰§è¡Œä»»æ„æ¬¡æ“ä½œåï¼Œæœ€å¤šèƒ½ä½¿å¤šå°‘ $p_i=i$.</p> <p>å»ºç«‹å›¾è®ºæ¨¡å‹ï¼Œå°†æ‰€æœ‰æ•´æ•°å¯¹è½¬åŒ–ä¸ºè¾¹ï¼Œæ„å»ºä¸€ä¸ªæ— å‘å›¾ï¼Œç„¶åæˆ‘ä»¬å‘ç°ä¸€ä¸ªæ˜æ˜¾çš„ç»“è®ºï¼š</p> <p>å½“ $p_i$ ä¸ $i$ ä¸åœ¨åŒä¸€è¿é€šå—ä¸­æ—¶ï¼Œä¸å¯èƒ½åšåˆ° $p_i=i$ ï¼Œäºæ˜¯ç»§ç»­å¾€è¿é€šæ–¹é¢æ€è€ƒã€‚</p> <p>å‘ç°å½“ $p_i$ ä¸ $i$ åœ¨åŒä¸€è¿é€šå—ä¸­æ—¶ï¼Œä¸€å®šå¯ä»¥åšåˆ° $p_i = i$ ï¼Œæ¨å¹¿ç»“è®ºå¯çŸ¥ç»Ÿè®¡æœ‰å¤šå°‘ $p_i$ ä¸ $i$ åœ¨åŒä¸€è¿é€šå—ä¸­å³å¯ã€‚</p> <h3 id="arc125">ARC125</h3> <h4 id="b---squares-ä»£æ•°-æ€§è´¨">B - Squares (ä»£æ•° æ€§è´¨)</h4> <p>#algebra #property</p> <p>é¢˜æ„ï¼šç»™ä¸€ä¸ªæ•´æ•° $N$ ï¼Œæ‰¾å‡ºæœ‰å¤šå°‘å¯¹æ•´æ•° $(x,y)$ æ»¡è¶³ä»¥ä¸‹æ¡ä»¶ï¼š</p> <ul> <li>$1\leqslant x,y \leqslant N$ .</li> <li>$x^2 - y$ æ˜¯ä¸€ä¸ªå¹³æ–¹æ•°ã€‚ï¼ˆ$0$ ä¹Ÿæ˜¯å¹³æ–¹æ•°ï¼‰</li> </ul> <p>è‡ªç„¶åœ°åˆ—å‡ºå¼å­ $x^2 - y = k^2$ ï¼Œç„¶åå˜å¼å¾—åˆ° $(x+k)(x-k) = y$ ï¼Œæˆ‘ä»¬ä»¤ $p = (x + k),q = (x-k)$ ï¼Œé‚£ä¹ˆé—®é¢˜è½¬åŒ–ä¸ºæ‰¾å‡ºæ»¡è¶³ä»¥ä¸‹æ€§è´¨çš„æ•´æ•°å¯¹ $p,q$ ï¼š</p> <ol> <li>$1\leqslant y = pq \leqslant N$ .</li> <li>$x= \dfrac{p+q}{2}$ æ˜¯ä¸ªæ•´æ•°ã€‚</li> <li>$1\leqslant x=\dfrac{p+q}{2}\leqslant N$ .</li> <li>$k \geqslant 0 \Leftrightarrow q\leqslant p$ .</li> </ol> <p>äºæ˜¯æˆ‘ä»¬å¯ä»¥æšä¸¾ $q$ ï¼Œé‚£ä¹ˆ $p$ çš„èŒƒå›´å°±æ˜¯ $q\leqslant p\leqslant \dfrac{N}{q}$ ï¼Œåˆå› ä¸º $\dfrac{p+q}{2}$ æ˜¯ä¸ªæ•´æ•°ï¼Œæ‰€ä»¥ $p,q$ çš„å¥‡å¶æ€§ç›¸åŒï¼Œäºæ˜¯æˆ‘ä»¬å¯ä»¥ $O(1)$ ç®—å‡ºå¯¹äºæ¯ä¸ª $q$ ï¼Œ$p$ çš„ä¸ªæ•°ä¸º \(\left\lceil\dfrac{\lfloor\dfrac{N}{q}\rfloor-q+1}{2}\right\rceil\) ç”±äº $pq\leqslant N$ ï¼Œå¯ä»¥çŸ¥é“æšä¸¾ $q$ ä¸è¶…è¿‡ $\sqrt N$ æ¬¡ï¼Œæ‰€ä»¥æ—¶é—´å¤æ‚åº¦ $O(\sqrt N)$ .</p> <h3 id="arc128">ARC128</h3> <h4 id="a---gold-and-silver-æ€§è´¨">A - Gold and Silver (æ€§è´¨)</h4> <p>#trick #property #greedy #dp é¢˜æ„ï¼šæœ€å¼€å§‹æ‰‹ä¸Šæœ‰ $1\,{\rm g}$ é‡‘å­ï¼Œæ¯ä¸€å¤©éƒ½æœ‰ä¸€ä¸ªæ±‡ç‡ $A_i$ ï¼Œç¬¬ $i$ å¤©å¯ä»¥åšäº¤æ˜“ï¼š</p> <ul> <li>å¦‚æœæ‰‹ä¸Šæœ‰ $x\,{\rm g}$ é‡‘å­ï¼Œé‚£ä¹ˆå…¨éƒ¨æ¢æˆ $(x\times A_i)\,{\rm g}$ é“¶å­ã€‚</li> <li>å¦‚æœæ‰‹ä¸Šæœ‰ $x\,{\rm g}$ é“¶å­ï¼Œé‚£ä¹ˆå…¨éƒ¨æ¢æˆ $\dfrac{x}{A_i}\,{\rm g}$ é‡‘å­ã€‚</li> </ul> <p>æ±‚å‡ºæ¯ä¸€å¤©çš„äº¤æ˜“æ–¹æ¡ˆä½¿å¾—æœ€åä¸€å¤©å¾—åˆ°çš„é‡‘å­æœ€å¤šã€‚</p> <p>è¿™ç§äº¤æ˜“é—®é¢˜å¸¸è§çš„ trick æ˜¯ï¼šè¿™ä¸€å¤©ä¸è¿›è¡Œäº¤æ˜“ç­‰ä»·äºåœ¨åŒä¸€å¤©ä¸­ä¹°å…¥åå–å‡ºã€‚</p> <p>äºæ˜¯è€ƒè™‘å¦‚æœæœ‰ä¸€ç§æœ€ä¼˜æƒ…å†µæ˜¯ç¬¬ $i$ å¤©å°†é‡‘å­æ¢æˆé“¶å­ï¼Œç¬¬ $j$ å¤©å°†é“¶å­æ¢æˆé‡‘å­ï¼Œé‚£ä¹ˆå®é™…ä¸Šå¯ä»¥çœ‹ä½œï¼š \(x\times\dfrac{A_i }{ A_{i + 1}}\times\dfrac{A_{i + 1}}{A_{i+2}}\times\cdots\times\dfrac{A_{j-1}}{A_j}\) æ˜¾ç„¶æ ¹æ®è´ªå¿ƒï¼Œå¯ä»¥çŸ¥é“å½“ $A_i &gt; A_{i + 1}$ çš„æ—¶å€™å°±è¿›è¡Œäº¤æ˜“å³å¯ã€‚</p> <p>å½“ç„¶ä¹Ÿå¯ä»¥è€ƒè™‘ DP ï¼Œä½†æ˜¯ç”±äºç²¾åº¦é—®é¢˜ï¼Œè¦ç”¨å¦ä¸€ä¸ª trick ï¼šå°†ä¹˜é™¤è½¬ä¸ºåŠ å‡ \(\log\dfrac{a}{b} = \log a - \log b,\log ab = \log a + \log b\) äºæ˜¯æˆ‘ä»¬å°†å…¶è½¬åŒ–ä¸ºå¯¹æ•°è¿ç®—ã€‚</p> <p>è®¾ $f(i)$ è¡¨ç¤ºç¬¬ $i$ å¤©å¯ä»¥è·å¾—çš„æœ€å¤šçš„é‡‘å­ï¼Œ $g(i)$ è¡¨ç¤ºç¬¬ $i$ å¤©å¯ä»¥è·å¾—çš„æœ€å¤šçš„é“¶å­ï¼Œç›´æ¥ $f$ ä¸ $g$ ä¹‹é—´äº’ç›¸è½¬ç§»å³å¯ï¼š \(f(i) = \max\{f(i-1),g(i-1)+\log A_i\}\\ g(i) = \max\{g(i - 1),f(i - 1) - \log A_i\}\) è®°å½• DP è¿‡ç¨‹çš„è½¬ç§»é¡ºåºå³å¯ã€‚è¿™ä¸ª trick æœ¬èº«å…¶å®ä¹Ÿå—ç²¾åº¦çš„å½±å“ï¼Œæ­£ç¡®æ€§ä¸å¦‚ä¸Šä¸€ä¸ª trick ç¨³å®šã€‚</p> <h3 id="abc224">ABC224</h3> <h4 id="d---8-puzzle-on-graph-å›¾è®º-æœ€çŸ­è·¯-æš´åŠ›">D - 8 Puzzle on Graph (å›¾è®º æœ€çŸ­è·¯ æš´åŠ›)</h4> <p>#graph/shortest-path #brute-force é¢˜æ„ï¼šæœ‰ $9$ ä¸ªç»“ç‚¹ï¼Œæœ‰æ ‡å· $ 1\sim 8$ çš„æ£‹å­æ”¾åœ¨å…¶ä¸­çš„ $8$ ä¸ªç»“ç‚¹ä¸Šï¼Œç»™å‡ºç»“ç‚¹ä¹‹é—´çš„æ— å‘è¾¹ï¼Œæ¯æ¬¡å¯ä»¥å°†ä¸€ä¸ªæ£‹å­ä»ä¸€ä¸ªç»“ç‚¹ç§»åˆ°å¦ä¸€ä¸ªç©ºç»“ç‚¹ä¸Šï¼Œé—®æœ€å°‘è¦æ“ä½œå¤šå°‘æ¬¡æ‰èƒ½ä½¿æ£‹å­ $i$ åœ¨ç»“ç‚¹ $i$ ä¸Šã€‚</p> <p>è€ƒè™‘å…¶çŠ¶æ€çš„è¡¨ç¤ºï¼Œæˆ‘ä»¬å¯ä»¥ç”¨å­—ç¬¦ä¸²è¡¨ç¤ºå½“å‰æ£‹ç›˜çš„çŠ¶æ€ï¼Œä»¤å­—ç¬¦ä¸²çš„ç¬¬ $i$ ä½è¡¨ç¤ºç»“ç‚¹ $i$ ä¸Šçš„æ£‹å­ç¼–å·ï¼Œä»¤ $9$ è¡¨ç¤ºç»“ç‚¹ä¸ºç©ºã€‚äºæ˜¯è¦æ±‚ä»ç»™å‡ºçš„çŠ¶æ€ $s$ è½¬ç§»åˆ°çŠ¶æ€ $123456789$ çš„æœ€å°‘æ­¥æ•°ã€‚</p> <p>æˆ‘ä»¬å‘ç°ï¼Œè¿™æ ·è¡¨ç¤ºçŠ¶æ€ï¼Œå…¶å¯èƒ½çš„æ–¹æ¡ˆæ•°æœ‰ $9!=362880$ ç§ï¼ŒçŠ¶æ€æ•°æ¯”è¾ƒå°ï¼Œæ‰€ä»¥å¯ä»¥æš´åŠ›æœç´¢ã€‚</p> <p>ç”¨ <code class="language-plaintext highlighter-rouge">map</code> å­˜ä¸‹æ¯ä¸ªçŠ¶æ€å¯¹åº”çš„æœ€å°æ“ä½œæ•°ï¼Œç„¶åç”¨ç±»ä¼¼æœ€çŸ­è·¯çš„æ€è·¯åšå³å¯ã€‚</p> <h4 id="e---integers-on-grid-dp-ä¼˜åŒ–">E - Integers on Grid (DP ä¼˜åŒ–)</h4> <p>#dp #optimization é¢˜æ„ï¼šç»™ä¸€ä¸ª $H\times W$ çš„ç½‘æ ¼ï¼Œå…¶ä¸­æœ‰ $N$ ä¸ªæ ¼å­çš„å€¼ä¸º $A(i,j)$ ï¼Œå…¶ä½™çš„æ ¼å­çš„å€¼å‡ä¸º $0$.ä½ æœ‰ä¸€ä¸ªæ£‹å­ï¼Œæœ€å¼€å§‹æ”¾åœ¨æŸä¸€ä¸ªæ ¼å­ $(i,j)$ ä¸Šï¼Œè¿™ä¸ªæ£‹å­å¯ä»¥ç§»åŠ¨åˆ°å¦ä¸€ä¸ªæ ¼å­ $(x,y)$ å½“ä¸”ä»…å½“ï¼š</p> <ul> <li>$A(i,j) &lt; A(x,y)$.</li> <li>$(i,j)$ å’Œ $(x,y)$ åœ¨åŒä¸€åˆ—æˆ–è€…åŒä¸€è¡Œ.</li> </ul> <p>ç°åœ¨é—®è‹¥æœ€å¼€å§‹å°†æ£‹å­æ”¾åœ¨ç¬¬ $i$ ä¸ªæœ‰å€¼çš„æ ¼å­ä¸Šï¼Œæœ€å¤šèƒ½ç§»åŠ¨å¤šå°‘æ­¥ï¼Œå¯¹æ‰€æœ‰çš„ $i=1,2,\ldots,N$ æ±‚å‡ºè¿™ä¸ªç­”æ¡ˆã€‚</p> <p>è€ƒè™‘ DP ï¼Œè®¾ $f(i)$ è¡¨ç¤ºä»æ ¼å­ $i$ å¼€å§‹æœ€å¤šèƒ½ç§»åŠ¨çš„æ­¥æ•°ã€‚ç”±äºæ£‹å­åªèƒ½ä»å€¼å¤§çš„æ ¼å­ç§»åˆ°å€¼å°çš„æ ¼å­ï¼Œæ‰€ä»¥åœ¨ä¸€å¼€å§‹å°†æœ‰å€¼çš„æ ¼å­æŒ‰å€¼ä»å¤§åˆ°å°æ’å¥½åºï¼Œæˆ‘ä»¬å°±å¯ä»¥è¿›è¡Œçº¿æ€§ DP. \(f(i) = \max\{f(j)|j&lt;i,A_j&gt;A_i,x_i=x_j \;{\rm or}\;y_i=y_j\}\) ä¸éš¾å‘ç°ï¼Œè¿™æ · DP æ˜¯ $O(N^2)$ çš„ï¼Œæˆ‘ä»¬éœ€è¦å¯¹å…¶è¿›è¡Œä¼˜åŒ–ã€‚æˆ‘ä»¬å¯ä»¥å°†æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—çš„æœ€å¤§æ­¥æ•°è®°ä¸‹æ¥ï¼Œè½¬ç§»çš„æ—¶å€™å°±å¯ä»¥åšåˆ° $O(1)$ è½¬ç§»äº†ï¼Œç„¶åå†åœ¨é€‚å½“çš„æ—¶å€™ï¼Œå¯¹æ¯ä¸€è¡Œå’Œæ¯ä¸€åˆ—çš„æœ€å¤§æ­¥æ•°æ›´æ–°ï¼Œè¿™æ ·å°±èƒ½å¤Ÿä¿è¯ç­”æ¡ˆçš„æ­£ç¡®æ€§ï¼Œå¹¶ä¸”å¾—åˆ°ä¸€ä¸ªä¼˜ç§€å¤æ‚åº¦çš„ç®—æ³•ã€‚</p> <h4 id="f---problem-where-s-separate-digits-æ‹†åˆ†è´¡çŒ®-è½¬åŒ–ä¸ºæœŸæœ›ä¸æ¦‚ç‡">F - Problem where +s Separate Digits (æ‹†åˆ†è´¡çŒ® è½¬åŒ–ä¸ºæœŸæœ›ä¸æ¦‚ç‡)</h4> <p>#probabilty/expectation é¢˜æ„ï¼šç»™ä¸€ä¸ªåªåŒ…å«æ•°å­—çš„å­—ç¬¦ä¸² $S$ ï¼Œå¯ä»¥åœ¨ä»»æ„ä¸¤ä¸ªæ•°å­—ä¹‹é—´åŠ  <code class="language-plaintext highlighter-rouge">+</code> ï¼Œå¯ä»¥åŠ ä»»æ„æ¬¡ï¼Œä½¿ $S$ ç»„æˆä¸€ä¸ªè¡¨è¾¾å¼ $T$ ï¼Œç°åœ¨æ±‚å¯¹äºæ‰€æœ‰ $T$ çš„å€¼çš„å’Œã€‚</p> <p>æ˜¾ç„¶ï¼Œæˆ‘ä»¬å¯ä»¥å•ç‹¬è€ƒè™‘æ¯ä¸€ä½æ•°å­—å¯¹ç­”æ¡ˆçš„è´¡çŒ®ã€‚ä¸€ä½æ•°å­—å¯èƒ½ä½œä¸ºä¸ªä½å‡ºç°ï¼Œä¹Ÿå¯èƒ½ä½œä¸ºç™¾ä½æˆ–åƒä½æˆ–æ›´é«˜ä½å‡ºç°ï¼Œé‚£ä¹ˆæˆ‘ä»¬è¦è®¡ç®—åœ¨æ‰€æœ‰å¯èƒ½çš„ $T$ ä¸­ï¼Œå¯¹äºç¬¬ $i$ ä½æ•°å­— $S_i$ ï¼Œå®ƒä½œä¸ºä¸ªä½ã€ç™¾ä½ã€åƒä½â€¦çš„æ–¹æ¡ˆæ•°æœ‰å¤šå°‘ã€‚</p> <p>æˆ‘ä»¬å¯ä»¥å°†å…¶è½¬æ¢ä¸ºæ¦‚ç‡æœŸæœ›é—®é¢˜ï¼Œå¯¹äºæ‰€æœ‰çš„ $T$ æˆ‘ä»¬ç­‰æ¦‚ç‡åœ°å¾—åˆ°ä¸€ä¸ª $Tâ€™$ ï¼Œé—® $Tâ€™$ çš„å€¼çš„æœŸæœ›æ˜¯å¤šå°‘ï¼Œå½“æˆ‘ä»¬æ±‚å‡ºè¿™ä¸ªæœŸæœ› $E$ çš„æ—¶å€™ï¼Œç”±æœŸæœ›çš„å®šä¹‰å¯çŸ¥ï¼Œç­”æ¡ˆå³ä¸º $E\times 2^{Len(S)-1}$ .</p> <p>ç°åœ¨è€ƒè™‘ä»æœ«å°¾å¾€å¼€å¤´ç¬¬ $i$ ä½ä½œä¸ºä¸€ä¸ªæ•°ä¸­æŸä¸€ä½çš„æƒ…å†µä¸å…¶æ¦‚ç‡ï¼š</p> <ul> <li> <p>ä½œä¸ºä¸ªä½ï¼Œåªè¦åœ¨ $i$ ä¸ $i + 1$ é—´åŠ  <code class="language-plaintext highlighter-rouge">+</code> å³å¯ï¼Œæ¦‚ç‡ $\dfrac{1}{2}$ .</p> </li> <li>ä½œä¸ºåä½ï¼Œ$i$ ä¸ $i + 1$ é—´æ²¡æœ‰ <code class="language-plaintext highlighter-rouge">+</code> ï¼Œ$i+1$ ä¸ $i+2$ é—´æœ‰ <code class="language-plaintext highlighter-rouge">+</code> ï¼Œæ¦‚ç‡ $\dfrac{1}{4}$ .</li> <li>$\cdots\cdots$</li> <li>è´¡çŒ®ç³»æ•°ä¸º $10^{i-2}$ ï¼Œæ¦‚ç‡ $\dfrac{1}{2^{i-1}}$ .</li> <li>è´¡çŒ®ç³»æ•°ä¸º $10^{i-1}$ ï¼Œ$i$ åé¢æ²¡æœ‰ <code class="language-plaintext highlighter-rouge">+</code>ï¼Œæ¦‚ç‡ä¸è´¡çŒ®ç³»æ•°ä¸º $10^{i-2}$ çš„æƒ…å†µä¸€æ ·ï¼Œæ˜¯ $\dfrac{1}{2^{i-1}}$ .</li> </ul> <p>é‚£ä¹ˆè¿™ä¸ªæ•°å¯¹æœŸæœ›çš„è´¡çŒ®å°±æ˜¯ \(S_i\times\sum_{j=1}^{i-1} \left(10^{j-1}\times\dfrac{1}{2^j}\right)\times10^{i-1}\times\dfrac{1}{2^{i-1}}\) åé¢é‚£ä¸€å¤§å—è´¡çŒ®ç³»æ•°ï¼Œæœ‰å‰ç¼€æ€§è´¨ï¼Œå¯ä»¥è¾¹è®¡ç®—è´¡çŒ®è¾¹è®¡ç®—ç³»æ•°ï¼Œæ—¶é—´å¤æ‚åº¦ $O(N)$ .</p> <h3 id="abc227">ABC227</h3> <h4 id="d---project-planning-äºŒåˆ†ç­”æ¡ˆ">D - Project Planning (äºŒåˆ†ç­”æ¡ˆ)</h4> <p>#binary-search é¢˜æ„ï¼šæœ‰ $N$ ä¸ªéƒ¨é—¨ï¼Œç¬¬ $i$ ä¸ªéƒ¨é—¨çš„äººæ•°ä¸º $A_i$ ï¼Œä¸€ä¸ªé¡¹ç›®éœ€è¦æ°å¥½ $K$ ä¸ªæ¥è‡ªä¸åŒéƒ¨é—¨çš„äººå®Œæˆï¼Œé—®æœ€å¤šå¯ä»¥å®Œæˆå¤šå°‘é¡¹ç›®ã€‚</p> <p>è€ƒè™‘è´ªå¿ƒï¼Œæˆ‘ä»¬å¯ä»¥é‡‡ç”¨å¦‚ä¸‹è´ªå¿ƒç­–ç•¥ï¼šæ¯æ¬¡ä¸ºä¸€ä¸ªé¡¹ç›®é€‰äººçš„æ—¶å€™ï¼Œéƒ½ä»å¯é€‰äººæ•°æœ€å¤šçš„ $K$ ä¸ªéƒ¨é—¨é€‰æ‹©ã€‚</p> <p>ä½†æ˜¯å¦‚æœæˆ‘ä»¬é€æ¬¡è¿›è¡Œä¸Šè¿°æ“ä½œï¼Œé‚£ä¹ˆæ—¶é—´å¤æ‚åº¦å°†å¾ˆå¤§ã€‚æˆ‘ä»¬å‘ç°ï¼Œç­”æ¡ˆå…·æœ‰å•è°ƒæ€§ï¼Œäºæ˜¯è€ƒè™‘äºŒåˆ†ç­”æ¡ˆã€‚äºŒåˆ†ä¸€ä¸ªç­”æ¡ˆ $P$ ï¼Œè€ƒè™‘èƒ½å¦å®Œæˆ $P$ ä¸ªé¡¹ç›®ï¼Œå¯¹éƒ¨é—¨çš„äººæ•°è¿›è¡Œåˆ†ç±»è®¨è®ºï¼š</p> <ol> <li>$A_i &lt; P$ ï¼Œéƒ¨é—¨ $i$ æœ€å¤šæ´¾å‡º $A_i$ äººï¼Œå‚ä¸ $A_i$ ä¸ªä¸åŒçš„é¡¹ç›®ã€‚</li> <li>$A_i \geqslant P$ ï¼Œéƒ¨é—¨ $i$ æœ€å¤šæ´¾å‡º $P$ äººï¼Œå‚ä¸è¿™ $P$ ä¸ªä¸åŒçš„é¡¹ç›®ã€‚</li> </ol> <p>äºæ˜¯åªè¦åˆ¤æ–­ $\sum\min{A_i,P}$ ä¸ $P\times K$ çš„å…³ç³»å³å¯çŸ¥é“èƒ½å¦å®Œæˆ $P$ ä¸ªé¡¹ç›®ã€‚</p> <h3 id="abc226">ABC226</h3> <h4 id="a---round-decimals-339">A - Round decimals (3:39)</h4> <p>é¢˜æ„ï¼šç»™ä¸€ä¸ªä¸‰ä½å°æ•°çš„æµ®ç‚¹æ•°ï¼Œè¾“å‡ºç¦»å®ƒæœ€è¿‘çš„æ•´æ•°ã€‚</p> <p>å› ä¸ºç»™å‡ºçš„æ•°æ˜¯éè´Ÿçš„ï¼Œæ‰€ä»¥å°æ•°éƒ¨åˆ†å¤§äº $0.5$ å°±è¾“å‡ºæ•´æ•°éƒ¨åˆ† + 1ï¼Œå¦åˆ™è¾“å‡ºæ•´æ•°éƒ¨åˆ†ã€‚</p> <h4 id="b---counting-arrays-1720">B - Counting Arrays (17:20)</h4> <p>é¢˜æ„ï¼šç»™å‡º $N$ ä¸ªæ•°ç»„ï¼Œé—®æœ‰å¤šå°‘ä¸ªä¸åŒçš„æ•°ç»„ã€‚</p> <p>å°†æ•°ç»„è½¬æˆå­—ç¬¦ä¸²ï¼Œæ¯ä¸ªå…ƒç´ é—´åŠ ç©ºæ ¼ï¼Œç„¶åæ’ä¸ªåºç»Ÿè®¡ä¸€ä¸‹å°±æ°´è¿‡äº†ã€‚</p> <h4 id="c---martial-artist-1051">C - Martial artist (10:51)</h4> <p>#graph é¢˜æ„ï¼šæœ‰ $N$ ä¸ªåŠ¨ä½œå¯ä»¥å­¦ï¼Œç¬¬ $i$ ä¸ªåŠ¨ä½œç”¨æ—¶ $T_i$ ï¼Œå­¦ç¬¬ $i$ ä¸ªåŠ¨ä½œå‰è¦å…ˆå­¦ $A_{i,1},A_{i,2},\cdots ,A_{i,K_i}$ å¹¶ä¸” $A_{i,j}&lt;i,1\leqslant j \leqslant K_i$ï¼Œé—®ä» $0$ å¼€å§‹å­¦ï¼Œå­¦å®Œç¬¬ $N$ ä¸ªåŠ¨ä½œè‡³å°‘è¦å¤šå°‘æ—¶é—´ã€‚</p> <p>å»ºç«‹å›¾è®ºæ¨¡å‹ï¼Œä¸éš¾å‘ç°ï¼Œæœ€åå½¢æˆä¸€ä¸ª DAG å¹¶ä¸”æœ€ç»ˆæ±‡èšåœ¨ $N$ ç»“ç‚¹ï¼Œäºæ˜¯å°†æ‰€æœ‰è¾¹åå‘ï¼Œè½¬åŒ–ä¸º $N$ å•æºçš„å›¾ï¼Œä» $N$ å¼€å§‹ DFS å°†æ‰€æœ‰éå†åˆ°çš„ç»“ç‚¹çš„æ—¶é—´åŠ èµ·æ¥å³ä¸ºç­”æ¡ˆã€‚</p> <h4 id="d---teleportation-4413">D - Teleportation (44:13)</h4> <p>#greedy #algebra é¢˜æ„ï¼šæœ‰ $N$ ä¸ªåŸé•‡ï¼Œåæ ‡ä¸º $(x_i,y_i)$ ï¼Œåœ¨åæ ‡ $(x,y)$ ä½¿ç”¨ä¸€æ¬¡å’’è¯­ $(a,b)$ å¯ä»¥ä½¿ä½ ä¼ é€åˆ° $(x + a,y + b)$ ï¼Œç°åœ¨é—®å’’è¯­é›†åˆä¸­è‡³å°‘è¦æœ‰å¤šå°‘ä¸ªå’’è¯­ï¼Œä½¿å¾—å¯¹äºæ¯å¯¹åŸé•‡ $i,j(i\neq j)$ ï¼Œå¯ä»¥ä»é›†åˆä¸­é€‰å‡ºä¸€ä¸ªå’’è¯­ï¼Œåå¤è¿ç”¨è‹¥å¹²æ¬¡åå¯ä»¥ä» $i$ ä¼ é€åˆ° $j$.</p> <p>è´ªå¿ƒï¼Œè¦ä»¤é›†åˆå¤§å°æœ€å°ï¼Œå°±è¦è®©å…¶ä¸­çš„å’’è¯­çš„é€‚ç”¨æ€§å°½å¯èƒ½å¼ºã€‚æˆ‘ä»¬å¯ä»¥å°†æ¯å¯¹åŸé•‡é—´çš„è·¯å¾„ç”¨å‘é‡è¡¨ç¤ºï¼Œå¦‚æœæœ‰å¤šä¸ªå‘é‡æ–¹å‘ç›¸åŒï¼Œæ˜¾ç„¶åªè¦å°†å®ƒä»¬çš„å•ä½å‘é‡ä½œä¸ºå’’è¯­å°±å¯ä»¥ç”¨ä¸€ä¸ªå’’è¯­èµ°è¿‡è¿™äº›è·¯å¾„ã€‚</p> <p>äºæ˜¯æ±‚å‡ºæ‰€æœ‰å‘é‡çš„åæ ‡è¡¨ç¤ºï¼Œå¹¶æ±‚å‡ºå®ƒä»¬çš„å•ä½å‘é‡ï¼Œåœ¨æ‰€æœ‰å•ä½å‘é‡ä¸­å»é‡åï¼Œå°±æ˜¯ç­”æ¡ˆé›†åˆã€‚</p> <h4 id="e---just-one-7249-å›¾è®º-æ€§è´¨">E - Just one (72:49) (å›¾è®º æ€§è´¨)</h4> <p>#graph #property é¢˜æ„ï¼šç»™å‡ºä¸€å¼  $N$ ä¸ªç»“ç‚¹å’Œ $M$ æ¡è¾¹çš„æ— å‘å›¾ï¼Œæ²¡æœ‰è‡ªç¯å’Œé‡è¾¹ï¼Œé—®æœ‰å¤šå°‘ç§æ–¹æ¡ˆé’¦å®šæ‰€æœ‰è¾¹çš„æ–¹å‘ä½¿å¾—æ¯ä¸€ä¸ªç‚¹å‡ºåº¦ä¸º 1.</p> <p>æ‰¾æ€§è´¨ï¼Œå…ˆä»ç®€å•æƒ…å†µå¼€å§‹ç ”ç©¶ã€‚å›¾è®ºé¢˜å¯ä»¥è€ƒè™‘ç ”ç©¶åŸºç¡€çš„å›¾è®ºæ¨¡å‹ï¼Œæ¯”å¦‚é“¾ã€æ ‘ã€ç¯ç­‰ã€‚</p> <p>è€ƒè™‘ä¸€æ¡é“¾çš„æƒ…å†µï¼Œå‘ç°æ–¹æ¡ˆæ•°ä¸º 0 ï¼Œæ€»æœ‰ä¸€ä¸ªç‚¹å‡ºåº¦ä¸º 0 .</p> <p>è€ƒè™‘ä¸€æ£µæ ‘çš„æƒ…å†µï¼Œå‘ç°æ–¹æ¡ˆæ•°ä¸º 0 .</p> <p>è€ƒè™‘ä¸€ä¸ªç®€å•ç¯çš„æƒ…å†µï¼Œå‘ç°æ–¹æ¡ˆæ•°ä¸º 2 ï¼Œåªè¦ä»¤ç¯ä¸­çš„æ‰€æœ‰è¾¹åŒå‘å³åˆæ³•ã€‚</p> <p>ç„¶åç ”ç©¶ä¸€ä¸‹åŸºç¡€æ¨¡å‹ç»„åˆçš„æƒ…å†µï¼Œå°±å¯ä»¥å‘ç°æ€§è´¨ï¼šå½“ä¸€ä¸ªè¿é€šå—æœ‰ä¸”ä»…æœ‰ä¸€ä¸ªç®€å•ç¯çš„æ—¶å€™ï¼Œæœ‰ 2 ç§é’¦å®šè¾¹çš„æ–¹æ¡ˆä½¿è¿™ä¸ªè¿é€šå—åˆæ³•ã€‚</p> <p>è¯æ˜ï¼šæ˜¾ç„¶ï¼Œåªæœ‰å½“å›¾ä¸­çš„è¾¹æ•°ä¸ç‚¹æ•°ç›¸ç­‰çš„æ—¶å€™ï¼Œæ¯ä¸ªç‚¹æ‰èƒ½æ°å¥½è¢«åˆ†é…ä¸€æ¡å‡ºè¾¹ã€‚å¦‚æœè¾¹æ•°å¤§äºç‚¹æ•°ï¼Œé‚£ä¹ˆä¸€å®šå­˜åœ¨ä¸€ä¸ªç‚¹å‡ºåº¦ä¸º 2 .</p> <p>äºæ˜¯å¾—è¯ã€‚å½“æ•´ä¸ªå›¾ä¸­å‡ºç°éæ³•è¿é€šå—çš„æ—¶å€™ï¼Œæ–¹æ¡ˆæ•°å°±ä¸º 0 ï¼›å¦‚æœå…¨éƒ¨è¿é€šå—åˆæ³•ï¼Œé‚£ä¹ˆæ€»æ–¹æ¡ˆæ•°å°±æ˜¯ $2^k$ å…¶ä¸­ $k$ ä¸ºè¿é€šå—çš„ä¸ªæ•°ã€‚</p> <h4 id="f---score-of-permutations">F - Score of Permutations</h4> <h4 id="g---the-baggage-è´ªå¿ƒ">G - The baggage (è´ªå¿ƒ)</h4> <h4 id="h---random-kth-max-æœŸæœ›">H - Random Kth Max (æœŸæœ›)</h4> <h3 id="abc225-virtual-participation">ABC225 (Virtual Participation)</h3> <h4 id="a---distinct-strings-518">A - Distinct Strings (5:18)</h4> <p>é¢˜æ„ï¼šç»™ 3 ä¸ªå°å†™å­—æ¯ï¼Œé—®èƒ½ç»„åˆæˆå¤šå°‘ç§å­—ç¬¦ä¸²ã€‚</p> <p>æ˜¾ç„¶ç­”æ¡ˆä¸æœ‰å¤šå°‘ä¸ªå­—æ¯ç›¸åŒæœ‰å…³ã€‚</p> <ol> <li>å…¨éƒ¨ç›¸åŒæ—¶ç­”æ¡ˆä¸º 1</li> <li>æœ‰ä¸¤ä¸ªç›¸åŒæ—¶ç­”æ¡ˆä¸º 3</li> <li>äº’ä¸ç›¸åŒæ—¶ç­”æ¡ˆä¸º 6</li> </ol> <p>æš´åŠ›ç‰¹åˆ¤è¾“å‡ºå³å¯ã€‚</p> <h4 id="b---star-or-not-812">B - Star or Not (8:12)</h4> <p>#graph é¢˜æ„ï¼šç»™å‡ºä¸€ä¸ªå›¾ï¼Œé—®å…¶æ˜¯å¦æ˜Ÿæ˜Ÿå›¾ï¼ˆèŠèŠ±å›¾ï¼‰ï¼Œæ˜Ÿæ˜Ÿå›¾çš„å®šä¹‰ä¸ºæœ‰ä¸€ä¸ªç»“ç‚¹ç›´æ¥è¿æ¥å…¶å®ƒæ‰€æœ‰ç»“ç‚¹ã€‚</p> <p>æ ¹æ®å®šä¹‰ï¼ŒèŠ±è•Šçš„æ€§è´¨å°±æ˜¯åº¦ä¸º $N-1$ ï¼Œæ£€æŸ¥æ‰€æœ‰ç»“ç‚¹ä¸­æ˜¯å¦å­˜åœ¨å³å¯ã€‚</p> <h4 id="c---calendar-validator-2513">C - Calendar Validator (25:13)</h4> <p>é¢˜æ„ï¼šç»™ä¸€ä¸ª $10^{100}\times 7$ çš„çŸ©é˜µ $A$ ï¼Œ$A_{i,j}=(i-1)\times7+j$ï¼Œå†ç»™ä¸€ä¸ªçŸ©é˜µ $B$ ï¼Œé—®çŸ©é˜µ $B$ åœ¨ä¸æ—‹è½¬çš„æƒ…å†µä¸‹ï¼Œæ˜¯å¦æ˜¯ $A$ çš„å­çŸ©é˜µã€‚</p> <p>å¯ä»¥å…ˆç¡®å®š $B$ ä¸­çš„ä¸€ä¸ªå…ƒç´ ï¼Œç„¶åæ¨å¾—æ˜¯ $A$ çš„å­çŸ©é˜µçš„ $Bâ€™$ ï¼Œç„¶åå¯¹æ¯” $B$ å’Œ $Bâ€™$ å³å¯ã€‚</p> <p>æ¨å‡º $B$ çš„å·¦ä¸Šè§’å¯èƒ½åœ¨ $A$ çš„ä½ç½® $(i,j)$ ï¼Œç„¶åæšä¸¾ $B$ ä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­å…¶æ˜¯å¦ä¸è®¡ç®—æ¨ç†å‡ºæ¥çš„å€¼ç›¸åŒå³å¯ã€‚</p> <h4 id="d---play-train-4403">D - Play Train (44:03)</h4> <p>#simulation #ds/list é¢˜æ„ï¼šæœ‰ $N$ è¾†ç©å…·è½¦ï¼Œç»™å‡º $Q$ æ¬¡æ“ä½œå’Œè¯¢é—®ï¼Œä¸€å…±æœ‰ä¸‰ç§ç±»å‹ï¼š</p> <ol> <li><code class="language-plaintext highlighter-rouge">1 x y</code> ä»¤ $x$ çš„å°¾éƒ¨ä¸ $y$ çš„å¤´éƒ¨ç›¸è¿ã€‚ä¿è¯ $x\neq y$ ï¼Œ$x$ çš„å°¾éƒ¨å’Œ $y$ çš„å¤´éƒ¨åœ¨æ­¤æ“ä½œå‰æ²¡æœ‰ä¸å…¶å®ƒè½¦ç›¸è¿ï¼Œåœ¨æ­¤æ“ä½œå‰ $x$ å’Œ $y$ å±äºä¸åŒåˆ—è½¦ç»„ã€‚</li> <li><code class="language-plaintext highlighter-rouge">2 x y</code> ä»¤ $x$ çš„å°¾éƒ¨ä¸ $y$ çš„å¤´éƒ¨åˆ†ç¦»ã€‚ä¿è¯ $x\neq y$ ï¼Œæ­¤æ“ä½œå‰ $x$ çš„å°¾éƒ¨ä¸ $y$ çš„å¤´éƒ¨ç›¸è¿ã€‚</li> <li><code class="language-plaintext highlighter-rouge">3 x</code> ä»å¤´è‡³å°¾åœ°è¾“å‡º $x$ æ‰€åœ¨çš„åˆ—è½¦ç»„çš„æ‰€æœ‰ç©å…·è½¦ç¼–å·ã€‚</li> </ol> <p>æ¨¡æ‹Ÿé“¾è¡¨æ“ä½œå³å¯ï¼Œå¯¹æ¯ä¸ªç©å…·è½¦è®°å½•å‰é©± ${\rm pre}(x)$ å’Œåç»§ ${\rm nxt}(x)$ ã€‚è¾“å‡ºçš„æ—¶å€™ï¼Œä» $x$ å¼€å§‹ä¸€ç›´è®¿é—®å‰å‰é©±ï¼Œç„¶åå€’åºè¾“å‡ºï¼Œå†ä¸€ç›´è®¿é—®åç»§é¡ºåºè¾“å‡ºå³å¯åšåˆ° $O(n)$.</p> <h4 id="e---ãƒ•7-è´ªå¿ƒ">E - ãƒ•/7 (è´ªå¿ƒ)</h4> <p>#greedy é¢˜æ„ï¼šåœ¨ä¸€ä¸ªå¹³é¢ä¸Šï¼Œç»™å‡ºè‹¥å¹²ä¸ªâ€7â€å½¢çŠ¶çš„å›¾æ¡ˆï¼Œé—®ä»¥æœ€ä¼˜æ–¹å¼åˆ é™¤ä¸€äº›â€7â€ï¼Œæœ€å¤šæœ‰å¤šå°‘ä¸ªâ€7â€å¯ä»¥åœ¨åŸç‚¹å®Œå…¨å¯è§†ã€‚â€7â€ç”±ä¸¤æ¡çº¿æ®µ $AB,BC$ ç»„æˆï¼Œå…¶ä¸­ $A(x_i - 1,y_i),B(x_i,y_i),C(x_i,y_i-1)$ .ä¸€ä¸ªâ€7â€åœ¨åŸç‚¹å®Œå…¨å¯è§†ï¼Œå½“ä¸”ä»…å½“å››è¾¹å½¢ $OABC$ ä¸ä¸ä»»ä½•å…¶å®ƒå›¾æ¡ˆâ€7â€ç›¸äº¤ã€‚</p> <p><img src="C:\Users\47328\Desktop\ä¿¡æ¯å­¦\notes\7.png" alt="7"/></p> <p>å¦‚å›¾æ‰€ç¤ºï¼Œçº¢è‰²çš„å›¾æ¡ˆå³ä¸ºâ€7â€ï¼Œå¹¶ä¸”å¯ä»¥çŸ¥é“ï¼Œå›¾æ¡ˆ 1 ä¸æ˜¯å®Œå…¨å¯è§†çš„ï¼Œå› ä¸ºå…¶ä¸åŸç‚¹ç»„æˆçš„å››è¾¹å½¢ä¸å›¾æ¡ˆ 2 ç›¸äº¤ã€‚</p> <p>æˆ‘ä»¬å¯ä»¥å°è¯•å‘æ˜ä¸¤ä¸ªå›¾æ¡ˆäº’ä¸é®æŒ¡çš„æ¡ä»¶ã€‚</p> <p>å¯ä»¥å‘ç°ï¼Œä¸€ä¸ªå›¾æ¡ˆå°†é®æŒ¡ä»åŸç‚¹åˆ°å›¾æ¡ˆçš„ä¸¤æ¡è¾¹æ‰€åœ¨çš„ä¸¤æ¡å°„çº¿æ‰€å¤¹çš„åŒºåŸŸï¼Œä»¤é è¿‘ $y$ è½´çš„ç›´çº¿æ–œç‡ä¸º $k_1$ ï¼Œé è¿‘ $x$ è½´çš„ç›´çº¿æ–œç‡ä¸º $k_2$ ï¼Œäºæ˜¯å¯¹äºä¸¤ä¸ªå›¾æ¡ˆ $p,q$ æœ‰ï¼š</p> <ul> <li>ä¸¤ä¸ªå›¾æ¡ˆäº’ä¸é®æŒ¡å½“ä¸”ä»…å½“ $k_{1p}\leqslant k_{2q}$ æˆ– $k_{1q}\leqslant k_{2p}$</li> </ul> <p><img src="C:\Users\47328\Desktop\ä¿¡æ¯å­¦\notes\7(2).png" alt="7(2)"/></p> <p>æ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç”¨åŒºé—´è¡¨è¾¾â€7â€ï¼Œä¸€ä¸ªå›¾æ¡ˆâ€7â€æ‰€å æœ‰çš„åŒºé—´å°±æ˜¯ $[k_2,k_1]$ ï¼Œäºæ˜¯é—®é¢˜è½¬åŒ–ä¸ºæ±‚æœ€å¤šäº’ä¸ç›¸äº¤åŒºé—´ã€‚</p> <p>ç»å…¸è´ªå¿ƒï¼ŒæŒ‰å³ç«¯ç‚¹ä»å°åˆ°å¤§æ’åºï¼Œæ¯æ¬¡å…ˆé€‰å³ç«¯ç‚¹å°çš„å³å¯å¾—åˆ°ç­”æ¡ˆã€‚</p> <p>æ¯”è¾ƒæ–œç‡çš„ Trick (é«˜ä¸­è§£æå‡ ä½•åŸºç¡€) : $k_1 = \dfrac{y_1}{x_1},k_2=\dfrac{y_2}{x_2},k_1 &lt; k_2 \Leftrightarrow y_1x_2&lt;y_2x_1$</p> <h4 id="f---string-cards-è´ªå¿ƒ-dp">F - String Cards (è´ªå¿ƒ DP)</h4> <p>#greedy #dp é¢˜æ„ï¼šç»™å‡º $N$ å¼ å¡ç‰Œï¼Œæ¯å¼ å¡ç‰Œä¸Šé¢æœ‰ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¦æ±‚ä»ä¸­é€‰ $K$ ä¸ªï¼Œå¹¶è‡ªç”±æ’åˆ—ç»„åˆåï¼Œä½¿å¾—å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆã€‚å­—å…¸åºç›¸åŒæ—¶é•¿åº¦å°çš„å­—ç¬¦ä¸²å­—å…¸åºæ›´å°ã€‚</p> <p><a href="https://atcoder.jp/contests/abc225/editorial/2850">å®˜æ–¹é¢˜è§£</a>å¾ˆè¯¦ç»†ï¼Œè¿™é‡Œæ¬è¿ç¿»è¯‘ä¸€ä¸‹ï¼Œå¹¶ç¨ä½œæ‰¹æ³¨ï¼š</p> <p>ä»‹ç» 4 ç§é”™è§£ï¼Œå¹¶ä¸¾å‡ºå®ƒä»¬çš„åä¾‹ã€‚</p> <h5 id="é”™è§£-1">é”™è§£ 1</h5> <blockquote> <p>å°† $(S_1,\ldots ,S_N)$ æ’åºï¼Œä½¿å¾— $S_i\leqslant S_{i + 1}$.</p> <p>å°†å‰ $K$ ä¸ªå­—ç¬¦ä¸²é¦–å°¾ç›¸è¿ä½œä¸ºç­”æ¡ˆ.</p> </blockquote> <p>åä¾‹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2 2
b
ba
</code></pre></div></div> <p>æ­£ç¡®ç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">bab</code> ï¼Œç¨‹åºè¾“å‡º <code class="language-plaintext highlighter-rouge">bba</code>.</p> <p>æ˜¾ç„¶æ²¡æœ‰è€ƒè™‘åˆ°å­—ç¬¦ä¸²é•¿åº¦ä¸ä¸€çš„æ¡ä»¶ã€‚</p> <h5 id="é”™è§£-2-è€ƒåœºä¸Šå°±æƒ³åˆ°è¿™">é”™è§£ 2 (è€ƒåœºä¸Šå°±æƒ³åˆ°è¿™â€¦)</h5> <blockquote> <p>å°† $(S_1,\ldots ,S_N)$ æ’åºï¼Œä½¿å¾— $S_i+S_{i+1}\leqslant S_{i+1}+S_{i}$.</p> <p>å°†å‰ $K$ ä¸ªå­—ç¬¦ä¸²é¦–å°¾ç›¸è¿ä½œä¸ºç­”æ¡ˆ.</p> </blockquote> <p>åä¾‹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>2 1
b
ba
</code></pre></div></div> <p>æ­£ç¡®ç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">b</code> ï¼Œç¨‹åºè¾“å‡º <code class="language-plaintext highlighter-rouge">ba</code>.</p> <p>æ²¡æœ‰è€ƒè™‘åˆ°ä½œä¸ºç»“å°¾çš„å­—ç¬¦ä¸²åé¢ä¸éœ€å†åŠ å­—ç¬¦ä¸²ã€‚</p> <h5 id="é”™è§£-3">é”™è§£ 3</h5> <blockquote> <p>å°† $(S_1,\ldots ,S_N)$ æ’åºï¼Œä½¿å¾— $S_i+S_{i+1}\leqslant S_{i+1}+S_{i}$.</p> <p>è®¾ $f(i,j)$ è¡¨ç¤ºåœ¨å‰ $i$ ä¸ªå­—ç¬¦ä¸²ä¸­é€‰å‡º $j$ ä¸ªé¦–å°¾ç›¸è¿çš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ï¼Œ</p> <p>è½¬ç§»æ–¹ç¨‹ $f(i,j) =\min{f(i-1,j),f(i-1,j-1)+S_i}$</p> <p>ç­”æ¡ˆä¸º $f(N,K)$.</p> </blockquote> <p>åä¾‹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>3 2
baa
ba
b
</code></pre></div></div> <p>æ­£ç¡®ç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">baab</code> ï¼Œç¨‹åºè¾“å‡º <code class="language-plaintext highlighter-rouge">baaba</code>.</p> <p>åŒæ ·æ˜¯æ²¡æœ‰è€ƒè™‘åˆ°ä½œä¸ºç»“å°¾çš„å­—ç¬¦ä¸²åé¢ä¸éœ€å†åŠ å­—ç¬¦ï¼Œä»å‰å¾€åè€ƒè™‘æ€»ä¼šä½¿å¾—æ­£ç¡®ç­”æ¡ˆæ˜¯ç¨‹åºè¾“å‡ºçš„å‰ç¼€ï¼Œäºæ˜¯åœ¨å­—ç¬¦ä¸²é•¿åº¦çš„å·®å¼‚ä¸Šï¼Œç¨‹åºè¾“å‡ºå­—å…¸åºæ€»å¤§äºæ­£ç¡®ç­”æ¡ˆã€‚</p> <h5 id="é”™è§£-4">é”™è§£ 4</h5> <blockquote> <p>å°† $(S_1,\ldots ,S_N)$ æ’åºï¼Œä½¿å¾— $S_i+S_{i+1}\leqslant S_{i+1}+S_{i}$.</p> <p>è®¾ $f(i,j)$ è¡¨ç¤ºåœ¨å‰ $i$ ä¸ªå­—ç¬¦ä¸²ä¸­é€‰å‡º $j$ ä¸ªé¦–å°¾ç›¸è¿çš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ï¼Œ</p> <p>è½¬ç§»æ–¹ç¨‹ \(f(i,j) =\min\{f(i-1,j),\min_{k&lt;i}\{f(i-1,j-1)+S_i\}\}\) ç­”æ¡ˆä¸º $f(N,K)$.</p> </blockquote> <p>åä¾‹ï¼š</p> <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>4 3
bbaba
bba
b
b
</code></pre></div></div> <p>æ­£ç¡®ç­”æ¡ˆ <code class="language-plaintext highlighter-rouge">bbababb</code> ï¼Œç¨‹åºè¾“å‡º <code class="language-plaintext highlighter-rouge">bbababbab</code>.</p> <p>è¿˜æ˜¯è€é—®é¢˜ï¼Œè½¬ç§»è¿‡ç¨‹ä¸­å¢åŠ å‚ä¸è½¬ç§»çš„çŠ¶æ€å¹¶ä¸èƒ½æ¶ˆé™¤æ— æ³•è€ƒè™‘åˆ°ç»“å°¾å­—ç¬¦ä¸²åé¢ä¸éœ€å†åŠ å­—ç¬¦ä¸²çš„é—®é¢˜ï¼Œè¿˜æ˜¯ä¼šä½¿è¾“å‡ºæˆä¸ºç­”æ¡ˆçš„å‰ç¼€ã€‚</p> <h5 id="æ­£è§£">æ­£è§£</h5> <p>å°† $(S_1,\ldots ,S_N)$ æ’åºï¼Œä½¿å¾— $S_i+S_{i+1}\leqslant S_{i+1}+S_{i}$ . è¿™ä¸€æ­¥æ˜¯å¿…é¡»çš„ï¼Œå› ä¸ºå®ƒä¿è¯äº†è¿™äº›å­—ç¬¦ä¸²ä»å‰å¾€åé€‰æˆ–è€…ä»åå¾€å‰é€‰éƒ½ä¸€å®šèƒ½å–å¾—æœ€ä½³æ–¹æ¡ˆï¼Œè¿™æ ·æ’åºçš„åŸç†å°±æ˜¯è´ªå¿ƒä¸­çš„ç›¸é‚»äº¤æ¢æ³•ï¼Œæˆ‘ä»¬å‘ç°é”™è§£ 1 ä¹‹æ‰€ä»¥é”™æ˜¯å› ä¸ºä»¤ä¸¤ä¸ªé•¿åº¦ä¸ä¸€çš„å­—ç¬¦ä¸²æ¯”è¾ƒï¼Œä½†å®ƒä»¬ç»„åˆèµ·æ¥ä»¥åçš„æƒ…å†µä¸ä¸¤ä¸ªç‹¬ç«‹çš„å­—ç¬¦ä¸²çš„æƒ…å†µå®Œå…¨ä¸åŒï¼Œæ‰€ä»¥æ­£è§£æ’åºé€šè¿‡æ¯”è¾ƒä¸¤ä¸ªé•¿åº¦ç›¸åŒçš„å­—ç¬¦ä¸²è§£å†³äº†è¿™ä¸€é—®é¢˜ã€‚ï¼ˆåŸé¢˜è§£æœ‰è¯¦ç»†è¯æ˜ï¼‰è¿™ä¸€æ­¥æ’åºæä¾›äº†ä¸€ç§ DP çš„é¡ºåºï¼Œæ¶ˆé™¤äº†åŸé—®é¢˜çš„åæ•ˆæ€§ï¼Œä¸º DP åšé“ºå«ã€‚</p> <p>ç„¶åä»ä¸Šé¢çš„é”™è§£ï¼Œæˆ‘ä»¬çŸ¥é“ï¼Œåé¢å‡ ç§çœ‹ä¼¼ååˆ†æ¥è¿‘æ­£è§£çš„è§£æ³•ï¼Œé—®é¢˜éƒ½å‡ºç°åœ¨ä¸èƒ½é€‰æ‹©åˆ°æœ€ä¼˜çš„ä½œä¸ºç»“å°¾çš„å­—ç¬¦ä¸²ï¼Œæ‰€ä»¥ä¸ºä»€ä¹ˆä¸è€ƒè™‘å…ˆä»åé¢å¼€å§‹é€‰å‘¢ï¼Ÿè®¾ $f(i,j)$ è¡¨ç¤ºåœ¨ $(S_i,\ldots ,S_N)$ ä¸­é€‰å‡º $j$ ä¸ªå­—ç¬¦ä¸²é¦–å°¾ç›¸è¿å¾—åˆ°çš„æœ€å°å­—å…¸åºçš„å­—ç¬¦ä¸²ã€‚é‚£ä¹ˆå¯¹äºæšä¸¾åˆ°ä¸€ä¸ªæ–°çš„å­—ç¬¦ä¸²ï¼Œæˆ‘ä»¬æœ‰ä¸¤ç§å†³ç­–ï¼Œä¸€ç§æ˜¯æŠ›å¼ƒå®ƒï¼Œå¦ä¸€ç§æ˜¯å°†å…¶ä½œä¸ºå…ˆå‰æœ€ä¼˜è§£çš„å¼€å¤´ï¼Œäºæ˜¯æœ‰ï¼š \(f(i,j) = \min\{f(i+1,j),S_i + f(i+1,j-1)\}\) å¥½äº†ï¼Œç°åœ¨å¯ä»¥æ€»ç»“ä¸€ä¸‹è¿™é“é¢˜äº†ã€‚</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;algorithm&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">N</span><span class="p">,</span><span class="n">K</span><span class="p">,</span><span class="n">tot</span><span class="p">;</span>
<span class="n">string</span> <span class="n">s</span><span class="p">[</span><span class="mi">55</span><span class="p">],</span><span class="n">f</span><span class="p">[</span><span class="mi">55</span><span class="p">][</span><span class="mi">55</span><span class="p">],</span><span class="n">inf</span><span class="p">;</span>

<span class="n">string</span> <span class="nf">smin</span><span class="p">(</span><span class="n">string</span> <span class="n">s1</span><span class="p">,</span><span class="n">string</span> <span class="n">s2</span><span class="p">)</span>
<span class="p">{</span>
	<span class="kt">int</span> <span class="n">len1</span> <span class="o">=</span> <span class="n">s1</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="kt">int</span> <span class="n">len2</span> <span class="o">=</span> <span class="n">s2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">min</span><span class="p">(</span><span class="n">len1</span><span class="p">,</span><span class="n">len2</span><span class="p">);</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="p">(</span><span class="n">s1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">s2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">?</span> <span class="n">s1</span> <span class="o">:</span> <span class="n">s2</span><span class="p">);</span>
	<span class="k">return</span> <span class="p">(</span><span class="n">len1</span> <span class="o">&lt;</span> <span class="n">len2</span> <span class="o">?</span> <span class="n">s1</span> <span class="o">:</span> <span class="n">s2</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">cmp</span><span class="p">(</span><span class="n">string</span> <span class="n">s1</span><span class="p">,</span><span class="n">string</span> <span class="n">s2</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">string</span> <span class="n">s3</span> <span class="o">=</span> <span class="n">s1</span> <span class="o">+</span> <span class="n">s2</span><span class="p">;</span>
	<span class="n">string</span> <span class="n">s4</span> <span class="o">=</span> <span class="n">s2</span> <span class="o">+</span> <span class="n">s1</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">len</span> <span class="o">=</span> <span class="n">s3</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">len</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
		<span class="k">if</span><span class="p">(</span><span class="n">s3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">!=</span> <span class="n">s4</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">return</span> <span class="n">s3</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">s4</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
	<span class="k">return</span> <span class="n">s1</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">s2</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">N</span><span class="p">,</span><span class="o">&amp;</span><span class="n">K</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">tot</span> <span class="o">+=</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">();</span>
	<span class="n">sort</span><span class="p">(</span><span class="n">s</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="n">s</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">N</span><span class="p">,</span><span class="n">cmp</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">tot</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span> <span class="n">inf</span> <span class="o">+=</span> <span class="s">"z"</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">N</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">N</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
			<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">inf</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">N</span><span class="p">,</span><span class="n">ii</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">--</span><span class="p">,</span><span class="n">ii</span> <span class="o">++</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">min</span><span class="p">(</span><span class="n">ii</span><span class="p">,</span><span class="n">K</span><span class="p">);</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">f</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">smin</span><span class="p">(</span><span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">+</span> <span class="n">f</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]);</span>
<span class="c1">//			printf("f(%d,%d) : ",i,j);cout &lt;&lt; f[i][j] &lt;&lt; endl;</span>
		<span class="p">}</span>
	<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">f</span><span class="p">[</span><span class="mi">1</span><span class="p">][</span><span class="n">K</span><span class="p">];</span>
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div> <h4 id="g---x-ç½‘ç»œæµ-æœ€å°å‰²">G - X (ç½‘ç»œæµ æœ€å°å‰²)</h4> <p>#network-flow/minimum-cut é¢˜æ„ï¼šç»™ä¸€ä¸ª $H$ è¡Œ $W$ åˆ—çš„ç½‘æ ¼ï¼Œæ¯ä¸€ä¸ªæ­£æ–¹å½¢ç½‘æ ¼ $(i,j)$ æƒå€¼ä¸º $A_{i,j}$ ï¼Œç°åœ¨æƒ³ç»™è‹¥å¹²ä¸ªç½‘æ ¼ç”»ä¸Š X ï¼Œå³è¿ä¸Šä¸¤æ¡å¯¹è§’çº¿ï¼Œå…¶å®ƒç½‘æ ¼ä¸èƒ½ç”»ä»»ä½•ä¸œè¥¿ï¼Œé—®æœ€å¤§å¾—åˆ†æ˜¯å¤šå°‘ã€‚å®šä¹‰å¾—åˆ†ä¸ºç”»ä¸Š X çš„ç½‘æ ¼çš„æƒå€¼å’Œå‡å»ä¸€ä¸ªå¸¸æ•° $C$ ä¸æœ€å°‘ç¬”ç”»æ•°çš„ä¹˜ç§¯ï¼Œå³ ${\rm score} = \sum A_{i,j} - C\times n$.</p> <p>ç¿»è¯‘ä¸€ä¸‹é¢˜è§£å¹¶ç¨ä½œæ‰¹æ³¨</p> <p>å®˜æ–¹é¢˜è§£é€šè¿‡é¢˜æ„è½¬åŒ–ä¸ç®€åŒ–æ“ä½œç±»å‹ï¼Œå°†åŸé—®é¢˜è½¬åŒ–ä¸ºä¸€ä¸ªæœ€å°å‰²é—®é¢˜ã€‚</p> <p>é¦–å…ˆè¦è€ƒè™‘ç”¨äºç”» X çš„æœ€å°çº¿æ®µæ•°æ€ä¹ˆæ±‚ã€‚</p> <ul> <li>å¯¹äºç½‘æ ¼ $(i,j)$ ï¼Œå½“å®ƒçš„å·¦ä¸Šè§’ $(i-1,j-1)$ æˆ–å³ä¸‹è§’ $(i+1,j+1)$ æœ‰ç”»äº† X çš„ç½‘æ ¼æ—¶ï¼Œå®ƒå¯ä»¥å°‘ç”»ä¸€ç¬”ã€‚</li> <li>å¯¹äºç½‘æ ¼ $(i,j)$ ï¼Œå½“å®ƒçš„å·¦ä¸‹è§’ $(i - 1,j + 1)$ æˆ–å³ä¸Šè§’ $(i + 1,j - 1)$ æœ‰èŠ±äº† X çš„ç½‘æ ¼æ—¶ï¼Œå®ƒå¯ä»¥å°‘ç”»ä¸€ç¬”ã€‚</li> </ul> <p>ç„¶åå¯ä»¥å°†ä»¥ä¸Šæ¡ä»¶ç­‰ä»·ä¸º ï¼š</p> <ul> <li>å¯¹äºç½‘æ ¼ $(i,j)$ ï¼Œå½“å®ƒçš„å·¦ä¸Šè§’æ²¡æœ‰ç”»äº† X çš„ç½‘æ ¼ï¼Œé‚£ä¹ˆå®ƒå°±è¦å¤šç”»ä¸€ç¬”ã€‚</li> <li>å¯¹äºç½‘æ ¼ $(i,j)$ ï¼Œå½“å®ƒçš„å·¦ä¸‹è§’æ²¡æœ‰ç”»äº† X çš„ç½‘æ ¼ï¼Œé‚£ä¹ˆå®ƒå°±è¦å¤šç”»ä¸€ç¬”ã€‚</li> </ul> <p>äºæ˜¯ç”» X çš„æœ€å°çº¿æ®µæ•° $n=n_1+n_2$ ï¼Œ$n_1$ ä¸ºæ»¡è¶³ä»¥ä¸Šç¬¬ä¸€ç§æƒ…å†µçš„ç½‘æ ¼æ•°ï¼Œ $n_2$ ä¸ºæ»¡è¶³ä»¥ä¸Šç¬¬äºŒç§æƒ…å†µçš„ç½‘æ ¼æ•°ã€‚</p> <p>ç„¶åå°±å°†é—®é¢˜è½¬åŒ–ä¸ºï¼š</p> <blockquote> <p>å¯¹äºæ¯ä¸ªç½‘æ ¼ï¼Œå¯ä»¥é€‰æ‹©ç”»æˆ–è€…ä¸ç”»ï¼Œå¦‚æœç”»äº†ï¼Œå°±å¾—åˆ°åˆ†æ•° $A_{i,j}$ ï¼Œä¸ç”»å°±ä¸å¾—åˆ†ã€‚</p> <p>åŒæ—¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªç”»äº†çš„ç½‘æ ¼ï¼Œå¦‚æœå·¦ä¸Šè§’çš„ç½‘æ ¼æ²¡æœ‰ç”»ï¼Œå°±ä½¿ç­”æ¡ˆå‡å» $C$ ï¼Œå¦‚æœå³ä¸Šè§’çš„ç½‘æ ¼æ²¡æœ‰ç”»ï¼Œä¹Ÿä½¿ç­”æ¡ˆå‡å» $C$ .æ±‚æœ€å¤§å¾—åˆ†ã€‚</p> </blockquote> <p>æ±‚æœ€å¤§å¾—åˆ†ä¸å¥½æ±‚ï¼Œé‚£å°±è€ƒè™‘æ±‚æœ€å°ä»£ä»·ï¼Œå°†é—®é¢˜è½¬åŒ–ä¸ºï¼š</p> <blockquote> <p>å¯¹äºæ¯ä¸ªç½‘æ ¼ï¼Œå¯ä»¥é€‰æ‹©ç”»æˆ–è€…ä¸ç”»ï¼Œå¦‚æœç”»äº†ï¼Œå°±æ²¡æœ‰å¢åŠ ä»£ä»·ï¼Œå¦‚æœä¸ç”»ï¼Œå°±å¢åŠ ä»£ä»· $A_{i,j}$.</p> <p>åŒæ—¶ï¼Œå¯¹äºæ¯ä¸€ä¸ªç”»äº†çš„ç½‘æ ¼ï¼Œå¦‚æœå·¦ä¸Šè§’çš„ç½‘æ ¼æ²¡æœ‰ç”»ï¼Œå°±å¢åŠ ä»£ä»· $C$ ï¼Œå¦‚æœå³ä¸Šè§’çš„ç½‘æ ¼æ²¡æœ‰ç”»ï¼Œä¹Ÿå¢åŠ ä»£ä»· $C$ .æ±‚æœ€å°ä»£ä»·ã€‚</p> </blockquote> <p>äºæ˜¯å¯ä»¥é€šè¿‡å»ºç«‹ç½‘ç»œæµæ¨¡å‹ï¼Œå°†ä¸Šè¿°é—®é¢˜è½¬åŒ–ä¸ºæœ€å°å‰²é—®é¢˜ã€‚</p> <p>è€ƒè™‘æ€ä¹ˆå»ºå›¾ã€‚è€ƒè™‘æˆ‘ä»¬çš„å›¾æ˜¯æ€ä¹ˆæ ·çš„ï¼Œå¯¹äºä¸ç”»çš„æ ¼å­ï¼Œåªèƒ½å¢åŠ ä»£ä»· $A_{i,j}$ ï¼Œå¹¶ä¸”ä¸ä¼šæœ‰æ›´å¤šçš„ä»£ä»·å¢åŠ ï¼Œæ‰€ä»¥å‰²æ–­è¿™ä¸€ç±»è¾¹åï¼Œä¸éœ€è¦å†å‰²è¿™ä¸ªæ ¼å­çš„å…¶å®ƒè¾¹ã€‚è€Œå¯¹äºç”»äº†çš„æ ¼å­ï¼Œä»£ä»·ä¸º $A_{i,j}$ çš„è¾¹ä¸€å®šä¸è¢«å‰²æ‰ï¼Œä¼šæœ‰ä»£ä»·ä¸º $0$ çš„è¾¹ï¼Œè¿˜ä¼šæœ‰ä»£ä»· $C$ çš„è¾¹ï¼Œå½“å…¶å·¦ä¸Šè§’å’Œå³ä¸Šè§’çš„æ ¼å­éƒ½ç”»äº† X æ—¶ï¼Œå°±ä¼šå‰²æ‰ä»£ä»·ä¸º $0$ çš„è¾¹ï¼Œå¦åˆ™å‰²æ‰ä¸€æ¡æˆ–ä¸¤æ¡ä»£ä»·ä¸º $C$ çš„è¾¹ã€‚</p> <p>äºæ˜¯å»ºç«‹ä¸€ä¸ªæºç‚¹ $S$ ï¼Œä¸€ä¸ªæ±‡ç‚¹ $T$ ï¼ŒæŒ‰ä¸€ä¸‹æ–¹æ¡ˆå»ºå›¾ï¼š</p> <ol> <li>æºç‚¹ $S$ å‘åˆ†åˆ«æ‰€æœ‰ç½‘æ ¼è¿ä¸€æ¡ä»£ä»·ä¸º $A_{i,j}$ çš„è¾¹ã€‚</li> <li>å¯¹äºæ‰€æœ‰å·¦ä¸Šè§’æ²¡æœ‰ç½‘æ ¼çš„ç½‘æ ¼ï¼Œåˆ†åˆ«å‘æ±‡ç‚¹è¿ä¸€æ¡ä»£ä»·ä¸º $C$ çš„è¾¹ã€‚</li> <li>å¯¹äºæ‰€æœ‰å·¦ä¸‹è§’æ²¡æœ‰ç½‘æ ¼çš„ç½‘æ ¼ï¼Œåˆ†åˆ«å‘æ±‡ç‚¹è¿ä¸€æ¡ä»£ä»·ä¸º $C$ çš„è¾¹ã€‚</li> <li>å¯¹äºæ‰€æœ‰å·¦ä¸Šè§’æœ‰ç½‘æ ¼çš„ç½‘æ ¼ï¼Œå‘æ±‡ç‚¹è¿ä¸€æ¡ä»£ä»·ä¸º $0$ çš„è¾¹ï¼Œå‘å·¦ä¸Šè§’çš„ç½‘æ ¼è¿ä¸€æ¡ä»£ä»·ä¸º $C$ çš„è¾¹ã€‚</li> <li>å¯¹äºæ‰€æœ‰å·¦ä¸‹è§’æœ‰ç½‘æ ¼çš„ç½‘æ ¼ï¼Œå‘æ±‡ç‚¹è¿ä¸€æ¡ä»£ä»·ä¸º $0 $ çš„è¾¹ï¼Œå‘å·¦ä¸‹è§’çš„ç½‘æ ¼è¿ä¸€æ¡ä»£ä»·ä¸º $C$ çš„è¾¹ã€‚</li> </ol> <p>äºæ˜¯æ±‚å‡ºæœ€å°ä»£ä»·åï¼Œç”¨æ€»ä»·å€¼å‡å»æœ€å°ä»£ä»·å³ä¸ºç­”æ¡ˆ ${\rm Ans} = \sum A_{i,j} - {\rm mincost}$</p> <div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include</span><span class="cpf">&lt;iostream&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstdio&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;cstring&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;string&gt;</span><span class="cp">
#include</span><span class="cpf">&lt;queue&gt;</span><span class="cp">
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">const</span> <span class="n">ll</span> <span class="n">inf</span> <span class="o">=</span> <span class="mh">0xfffffffff</span><span class="p">;</span>
<span class="n">ll</span> <span class="n">A</span><span class="p">[</span><span class="mi">105</span><span class="p">][</span><span class="mi">105</span><span class="p">],</span><span class="n">C</span><span class="p">,</span><span class="n">sum</span><span class="p">;</span>
<span class="kt">int</span> <span class="n">H</span><span class="p">,</span><span class="n">W</span><span class="p">,</span><span class="n">cnt</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="n">tot</span><span class="p">,</span><span class="n">map</span><span class="p">[</span><span class="mi">105</span><span class="p">][</span><span class="mi">105</span><span class="p">];</span>
<span class="kt">int</span> <span class="n">head</span><span class="p">[</span><span class="mi">50005</span><span class="p">],</span><span class="n">p</span><span class="p">[</span><span class="mi">50005</span><span class="p">],</span><span class="n">dep</span><span class="p">[</span><span class="mi">50005</span><span class="p">];</span>

<span class="k">struct</span> <span class="nc">edge</span><span class="p">{</span>
	<span class="kt">int</span> <span class="n">nxt</span><span class="p">;</span>
	<span class="kt">int</span> <span class="n">to</span><span class="p">;</span>
	<span class="n">ll</span> <span class="n">cap</span><span class="p">;</span>
<span class="p">}</span><span class="n">e</span><span class="p">[</span><span class="mi">500005</span><span class="p">];</span>

<span class="kt">void</span> <span class="nf">addedge</span><span class="p">(</span><span class="kt">int</span> <span class="n">from</span><span class="p">,</span><span class="kt">int</span> <span class="n">to</span><span class="p">,</span><span class="n">ll</span> <span class="n">val</span><span class="p">)</span>
<span class="p">{</span>
	<span class="n">cnt</span> <span class="o">++</span><span class="p">;</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">nxt</span> <span class="o">=</span> <span class="n">head</span><span class="p">[</span><span class="n">from</span><span class="p">];</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">to</span> <span class="o">=</span> <span class="n">to</span><span class="p">;</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">cap</span> <span class="o">=</span> <span class="n">val</span><span class="p">;</span>
	<span class="n">head</span><span class="p">[</span><span class="n">from</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">;</span>
	<span class="n">cnt</span> <span class="o">++</span><span class="p">;</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">nxt</span> <span class="o">=</span> <span class="n">head</span><span class="p">[</span><span class="n">to</span><span class="p">];</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">to</span> <span class="o">=</span> <span class="n">from</span><span class="p">;</span>
	<span class="n">e</span><span class="p">[</span><span class="n">cnt</span><span class="p">].</span><span class="n">cap</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">head</span><span class="p">[</span><span class="n">to</span><span class="p">]</span> <span class="o">=</span> <span class="n">cnt</span><span class="p">;</span>
	<span class="k">return</span> <span class="p">;</span>
<span class="p">}</span>

<span class="kt">bool</span> <span class="nf">bfs</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">memset</span><span class="p">(</span><span class="n">dep</span><span class="p">,</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">dep</span><span class="p">));</span>
	<span class="n">queue</span><span class="o">&lt;</span><span class="kt">int</span> <span class="o">&gt;</span> <span class="n">q</span><span class="p">;</span><span class="kt">int</span> <span class="n">u</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">);</span><span class="n">dep</span><span class="p">[</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(;</span><span class="o">!</span><span class="n">q</span><span class="p">.</span><span class="n">empty</span><span class="p">();)</span>
	<span class="p">{</span>
		<span class="n">u</span> <span class="o">=</span> <span class="n">q</span><span class="p">.</span><span class="n">front</span><span class="p">();</span>
		<span class="n">q</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">head</span><span class="p">[</span><span class="n">u</span><span class="p">],</span><span class="n">v</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="p">;</span><span class="n">i</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">nxt</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">v</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cap</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">dep</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span>
			<span class="p">{</span>
				<span class="n">q</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">v</span><span class="p">);</span>
				<span class="n">dep</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">=</span> <span class="n">dep</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span>
			<span class="p">}</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">dep</span><span class="p">[</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>

<span class="n">ll</span> <span class="nf">dfs</span><span class="p">(</span><span class="kt">int</span> <span class="n">now</span><span class="p">,</span><span class="kt">int</span> <span class="n">t</span><span class="p">,</span><span class="n">ll</span> <span class="n">flow</span><span class="p">)</span>
<span class="p">{</span>
	<span class="k">if</span><span class="p">(</span><span class="n">now</span> <span class="o">==</span> <span class="n">t</span> <span class="o">||</span> <span class="n">flow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">return</span> <span class="n">flow</span><span class="p">;</span>
	<span class="n">ll</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="o">&amp;</span><span class="n">i</span> <span class="o">=</span> <span class="n">p</span><span class="p">[</span><span class="n">now</span><span class="p">];</span><span class="n">i</span><span class="p">;</span><span class="n">i</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">nxt</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="kt">int</span> <span class="n">v</span> <span class="o">=</span> <span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">to</span><span class="p">;</span>
		<span class="k">if</span><span class="p">(</span><span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cap</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">dep</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">dep</span><span class="p">[</span><span class="n">now</span><span class="p">])</span>
		<span class="p">{</span>
			<span class="n">ll</span> <span class="n">fl</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">v</span><span class="p">,</span><span class="n">t</span><span class="p">,</span><span class="n">min</span><span class="p">(</span><span class="n">flow</span><span class="p">,</span><span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cap</span><span class="p">));</span>
			<span class="n">res</span> <span class="o">+=</span> <span class="n">fl</span><span class="p">;</span>
			<span class="n">flow</span> <span class="o">-=</span> <span class="n">fl</span><span class="p">;</span>
			<span class="n">e</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">cap</span> <span class="o">-=</span> <span class="n">fl</span><span class="p">;</span>
			<span class="n">e</span><span class="p">[</span><span class="n">i</span> <span class="o">^</span> <span class="mi">1</span><span class="p">].</span><span class="n">cap</span> <span class="o">+=</span> <span class="n">fl</span><span class="p">;</span>
			<span class="k">if</span><span class="p">(</span><span class="n">flow</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="k">break</span><span class="p">;</span>
		<span class="p">}</span>	
	<span class="p">}</span>
	<span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">Dinic</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">ll</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
	<span class="k">while</span><span class="p">(</span><span class="n">bfs</span><span class="p">())</span>
	<span class="p">{</span>
		<span class="n">memcpy</span><span class="p">(</span><span class="n">p</span><span class="p">,</span><span class="n">head</span><span class="p">,</span><span class="k">sizeof</span><span class="p">(</span><span class="n">p</span><span class="p">));</span>
		<span class="n">ans</span> <span class="o">+=</span> <span class="n">dfs</span><span class="p">(</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span><span class="n">inf</span><span class="p">);</span>
	<span class="p">}</span>
	<span class="n">printf</span><span class="p">(</span><span class="s">"%lld"</span><span class="p">,</span><span class="n">sum</span> <span class="o">-</span> <span class="n">ans</span><span class="p">);</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
	<span class="n">scanf</span><span class="p">(</span><span class="s">"%d%d%lld"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">H</span><span class="p">,</span><span class="o">&amp;</span><span class="n">W</span><span class="p">,</span><span class="o">&amp;</span><span class="n">C</span><span class="p">);</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">H</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">j</span><span class="o">&lt;=</span> <span class="n">W</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">scanf</span><span class="p">(</span><span class="s">"%lld"</span><span class="p">,</span><span class="o">&amp;</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
			<span class="n">tot</span> <span class="o">++</span><span class="p">;</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]</span> <span class="o">=</span> <span class="n">tot</span><span class="p">;</span>
			<span class="n">sum</span> <span class="o">+=</span> <span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">];</span>
		<span class="p">}</span>
	<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">i</span> <span class="o">&lt;=</span> <span class="n">H</span><span class="p">;</span><span class="n">i</span> <span class="o">++</span><span class="p">)</span>
	<span class="p">{</span>
		<span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span><span class="n">j</span> <span class="o">&lt;=</span> <span class="n">W</span><span class="p">;</span><span class="n">j</span> <span class="o">++</span><span class="p">)</span>
		<span class="p">{</span>
			<span class="n">addedge</span><span class="p">(</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">]);</span>
			<span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">1</span> <span class="o">||</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span><span class="n">C</span><span class="p">);</span>
			<span class="k">else</span> <span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">map</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span><span class="n">C</span><span class="p">),</span><span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
			<span class="k">if</span><span class="p">(</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">&gt;</span> <span class="n">H</span> <span class="o">||</span> <span class="n">j</span> <span class="o">-</span> <span class="mi">1</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">)</span> <span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span><span class="n">C</span><span class="p">);</span>
			<span class="k">else</span> <span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">map</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">][</span><span class="n">j</span> <span class="o">-</span> <span class="mi">1</span><span class="p">],</span><span class="n">C</span><span class="p">),</span><span class="n">addedge</span><span class="p">(</span><span class="n">map</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="n">j</span><span class="p">],</span><span class="n">tot</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">);</span>
		<span class="p">}</span>
	<span class="p">}</span>
	<span class="n">Dinic</span><span class="p">();</span>
	
	<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span> 
</code></pre></div></div> <h4 id="h---social-distance-2-ç»„åˆæ•°å­¦">H - Social Distance 2 (ç»„åˆæ•°å­¦)</h4> <p>#combinatorics é¢˜æ„ï¼šæœ‰ $N$ å¼ æ¤…å­ï¼Œæ¯å¼ æ¤…å­åªèƒ½åä¸€ä¸ªäººï¼Œæœ‰ $M$ ä¸ªäººå°†ååœ¨è¿™å…¶ä¸­çš„ $M$ å¼ æ¤…å­ä¸Šï¼Œå®šä¹‰å¾—åˆ†ä¸º \(\prod_{i=1}^{M-1}(B_{i + 1}-B_i)\) å…¶ä¸­ $B=(B_1,B_2,\ldots ,B_M)$ æ˜¯æ¯ä¸€ä¸ªäººæ‰€åšçš„æ¤…å­çš„ç¼–å·ã€‚</p> <p>å·²ç»æœ‰ $K$ ä¸ªäººååœ¨ç¼–å·ä¸º $A_1,A_2,\ldots,A_K$ çš„æ¤…å­ä¸Šäº†ï¼Œè®¡ç®—å‰©ä¸‹çš„ $M-K$ ä¸ªäººå°±åº§çš„æ‰€æœ‰æ–¹æ¡ˆçš„å¾—åˆ†æ€»å’Œã€‚</p> <p>ç¿»è¯‘å®˜æ–¹é¢˜è§£å¹¶ç¨ä½œæ‰¹æ³¨ã€‚</p> <p>åœ¨é¢˜ç›®è¦æ±‚åŒºåˆ†è¿™ $M-K$ ä¸ªè¿˜æ²¡æœ‰åº§ä½çš„äººï¼Œæˆ‘ä»¬ä¸å¦¨æš‚æ—¶å¿½ç•¥ä»–ä»¬å…·ä½“æ˜¯è°ï¼Œåœ¨è®¡ç®—å‡ºä¸€äº›ç»“æœåå†ä¹˜ä¸Šæ’åˆ—æ•°å³å¯ã€‚</p> <p>è€ƒè™‘è®¡ç®—ä»¥ä¸‹å‡ ç§å€¼ï¼š</p> <blockquote> <p>$f_1(n,k)$ è¡¨ç¤ºæœ‰äººå·²ç»ååœ¨è¿™ $n$ å¼ æ¤…å­ä¸­æœ€å·¦ç«¯çš„æ¤…å­å’Œæœ€å³ç«¯çš„æ¤…å­ï¼Œå¹¶ä¸”è¿˜æœ‰ $k$ ä¸ªäººè¦å°±åº§æ‰€æœ‰æ–¹æ¡ˆçš„å¾—åˆ†æ€»å’Œã€‚</p> <p>$f_2(n,k)$ è¡¨ç¤ºæœ‰äººå·²ç»ååœ¨è¿™ $n$ å¼ æ¤…å­ä¸­æœ€å·¦ç«¯çš„æ¤…å­ï¼Œå¹¶ä¸”è¿˜æœ‰ $k$ ä¸ªäººè¦å°±åº§æ‰€æœ‰æ–¹æ¡ˆçš„å¾—åˆ†æ€»å’Œã€‚</p> <p>$f_3(n,k)$ è¡¨ç¤º $k$ ä¸ªäººååœ¨ $n$ å¼ ç©ºæ¤…å­ä¸Šçš„æ‰€æœ‰æ–¹æ¡ˆçš„å¾—åˆ†æ€»å’Œã€‚</p> </blockquote> <p>åŸæ–‡ä»‹ç»äº†ç”Ÿæˆå‡½æ•°å’Œç»„åˆè®¡æ•°ä¸¤ç§æ–¹æ³•è®¡ç®— $f_1$ ï¼Œæœ¬æ–‡åªæ¬è¿å…¶ä»‹ç»ç»„åˆè®¡æ•°çš„éƒ¨åˆ†ã€‚</p> <p>ä¸ä¼šäº†â€¦å’•å’•â€¦</p>]]></content><author><name></name></author><category term="articles"/><category term="atcdoer"/><summary type="html"><![CDATA[solutions for atcoder problems]]></summary></entry><entry><title type="html">Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra</title><link href="https://gaigebell.github.io/blog/2024/google-gemini-updates-flash-15-gemma-2-and-project-astra/" rel="alternate" type="text/html" title="Google Gemini updates: Flash 1.5, Gemma 2 and Project Astra"/><published>2024-05-14T00:00:00+00:00</published><updated>2024-05-14T00:00:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/google-gemini-updates-flash-15-gemma-2-and-project-astra</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/google-gemini-updates-flash-15-gemma-2-and-project-astra/"><![CDATA[]]></content><author><name></name></author><summary type="html"><![CDATA[Weâ€™re sharing updates across our Gemini family of models and a glimpse of Project Astra, our vision for the future of AI assistants.]]></summary></entry><entry><title type="html">a post with tabs</title><link href="https://gaigebell.github.io/blog/2024/tabs/" rel="alternate" type="text/html" title="a post with tabs"/><published>2024-05-01T00:32:13+00:00</published><updated>2024-05-01T00:32:13+00:00</updated><id>https://gaigebell.github.io/blog/2024/tabs</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/tabs/"><![CDATA[<p>This is how a post with <a href="https://github.com/Ovski4/jekyll-tabs">tabs</a> looks like. Note that the tabs could be used for different purposes, not only for code.</p> <h2 id="first-tabs">First tabs</h2> <p>To add tabs, use the following syntax:</p> <div class="language-liquid highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">{%</span><span class="w"> </span><span class="nt">tabs</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-1</span><span class="w"> </span><span class="cp">%}</span>

Content 1

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">tab</span><span class="w"> </span><span class="nv">group-name</span><span class="w"> </span><span class="nv">tab-name-2</span><span class="w"> </span><span class="cp">%}</span>

Content 2

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtab</span><span class="w"> </span><span class="cp">%}</span>

<span class="cp">{%</span><span class="w"> </span><span class="nt">endtabs</span><span class="w"> </span><span class="cp">%}</span>
</code></pre></div></div> <p>With this you can generate visualizations like:</p> <ul id="log" class="tab" data-tab="1c32714d-32b0-4649-a5c8-998d30f30ea6" data-name="log"> <li class="active" id="log-php"> <a href="#">php </a> </li> <li id="log-js"> <a href="#">js </a> </li> <li id="log-ruby"> <a href="#">ruby </a> </li> </ul> <ul class="tab-content" id="1c32714d-32b0-4649-a5c8-998d30f30ea6" data-name="log"> <li class="active"> <div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">var_dump</span><span class="p">(</span><span class="s1">'hello'</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">hello</span><span class="dl">"</span><span class="p">);</span>
</code></pre></div></div> </li> <li> <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">pputs</span> <span class="dl">'</span><span class="s1">hello</span><span class="dl">'</span>
</code></pre></div></div> </li> </ul> <h2 id="another-example">Another example</h2> <ul id="data-struct" class="tab" data-tab="22148126-06ed-4adf-8958-4df0b2708b21" data-name="data-struct"> <li class="active" id="data-struct-yaml"> <a href="#">yaml </a> </li> <li id="data-struct-json"> <a href="#">json </a> </li> </ul> <ul class="tab-content" id="22148126-06ed-4adf-8958-4df0b2708b21" data-name="data-struct"> <li class="active"> <div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">hello</span><span class="pi">:</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">whatsup"</span>
  <span class="pi">-</span> <span class="s2">"</span><span class="s">hi"</span>
</code></pre></div></div> </li> <li> <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"hello"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"whatsup"</span><span class="p">,</span><span class="w"> </span><span class="s2">"hi"</span><span class="p">]</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div> </li> </ul> <h2 id="tabs-for-something-else">Tabs for something else</h2> <ul id="something-else" class="tab" data-tab="54d63242-bcfb-43e6-a9b6-63c2d1ce0bf8" data-name="something-else"> <li class="active" id="something-else-text"> <a href="#">text </a> </li> <li id="something-else-quote"> <a href="#">quote </a> </li> <li id="something-else-list"> <a href="#">list </a> </li> </ul> <ul class="tab-content" id="54d63242-bcfb-43e6-a9b6-63c2d1ce0bf8" data-name="something-else"> <li class="active"> <p>Regular text</p> </li> <li> <blockquote> <p>A quote</p> </blockquote> </li> <li> <p>Hipster list</p> <ul> <li>brunch</li> <li>fixie</li> <li>raybans</li> <li>messenger bag</li> </ul> </li> </ul>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included tabs in a post could look like]]></summary></entry><entry><title type="html">a post with typograms</title><link href="https://gaigebell.github.io/blog/2024/typograms/" rel="alternate" type="text/html" title="a post with typograms"/><published>2024-04-29T23:36:10+00:00</published><updated>2024-04-29T23:36:10+00:00</updated><id>https://gaigebell.github.io/blog/2024/typograms</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/typograms/"><![CDATA[<p>This is an example post with some <a href="https://github.com/google/typograms/">typograms</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">+----+
|    |---&gt; My first diagram!
+----+</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-typograms">+----+
|    |---&gt; My first diagram!
+----+
</code></pre> <p>Another example:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">typograms
</span><span class="sb">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.</span>
<span class="p">```</span>
</code></pre></div></div> <p>which generates:</p> <pre><code class="language-typograms">.------------------------.
|.----------------------.|
||"https://example.com" ||
|'----------------------'|
| ______________________ |
||                      ||
||   Welcome!           ||
||                      ||
||                      ||
||  .----------------.  ||
||  | username       |  ||
||  '----------------'  ||
||  .----------------.  ||
||  |"*******"       |  ||
||  '----------------'  ||
||                      ||
||  .----------------.  ||
||  |   "Sign-up"    |  ||
||  '----------------'  ||
||                      ||
|+----------------------+|
.------------------------.
</code></pre> <p>For more examples, check out the <a href="https://google.github.io/typograms/#examples">typograms documentation</a>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="diagrams"/><summary type="html"><![CDATA[this is what included typograms code could look like]]></summary></entry><entry><title type="html">a post that can be cited</title><link href="https://gaigebell.github.io/blog/2024/post-citation/" rel="alternate" type="text/html" title="a post that can be cited"/><published>2024-04-28T15:06:00+00:00</published><updated>2024-04-28T15:06:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/post-citation</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/post-citation/"><![CDATA[<p>This is an example post that can be cited. The content of the post ends here, while the citation information is automatically provided below. The only thing needed is for you to set the <code class="language-plaintext highlighter-rouge">citation</code> key in the front matter to <code class="language-plaintext highlighter-rouge">true</code>.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="citation"/><summary type="html"><![CDATA[this is what a post that can be cited looks like]]></summary></entry><entry><title type="html">a post with pseudo code</title><link href="https://gaigebell.github.io/blog/2024/pseudocode/" rel="alternate" type="text/html" title="a post with pseudo code"/><published>2024-04-15T00:01:00+00:00</published><updated>2024-04-15T00:01:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/pseudocode</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/pseudocode/"><![CDATA[<p>This is an example post with some pseudo code rendered by <a href="https://github.com/SaswatPadhi/pseudocode.js">pseudocode</a>. The example presented here is the same as the one in the <a href="https://saswat.padhi.me/pseudocode.js/">pseudocode.js</a> documentation, with only one simple but important change: everytime you would use <code class="language-plaintext highlighter-rouge">$</code>, you should use <code class="language-plaintext highlighter-rouge">$$</code> instead. Also, note that the <code class="language-plaintext highlighter-rouge">pseudocode</code> key in the front matter is set to <code class="language-plaintext highlighter-rouge">true</code> to enable the rendering of pseudo code. As an example, using this code:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">pseudocode
</span><span class="sb">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Generates:</p> <pre><code class="language-pseudocode">% This quicksort algorithm is extracted from Chapter 7, Introduction to Algorithms (3rd edition)
\begin{algorithm}
\caption{Quicksort}
\begin{algorithmic}
\PROCEDURE{Quicksort}{$$A, p, r$$}
    \IF{$$p &lt; r$$}
        \STATE $$q = $$ \CALL{Partition}{$$A, p, r$$}
        \STATE \CALL{Quicksort}{$$A, p, q - 1$$}
        \STATE \CALL{Quicksort}{$$A, q + 1, r$$}
    \ENDIF
\ENDPROCEDURE
\PROCEDURE{Partition}{$$A, p, r$$}
    \STATE $$x = A[r]$$
    \STATE $$i = p - 1$$
    \FOR{$$j = p$$ \TO $$r - 1$$}
        \IF{$$A[j] &lt; x$$}
            \STATE $$i = i + 1$$
            \STATE exchange
            $$A[i]$$ with $$A[j]$$
        \ENDIF
        \STATE exchange $$A[i]$$ with $$A[r]$$
    \ENDFOR
\ENDPROCEDURE
\end{algorithmic}
\end{algorithm}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is what included pseudo code could look like]]></summary></entry><entry><title type="html">a post with code diff</title><link href="https://gaigebell.github.io/blog/2024/code-diff/" rel="alternate" type="text/html" title="a post with code diff"/><published>2024-01-27T19:22:00+00:00</published><updated>2024-01-27T19:22:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/code-diff</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/code-diff/"><![CDATA[<p>You can display diff code by using the regular markdown syntax:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff
</span><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <div class="language-diff highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="gh">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
</span><span class="gd">--- a/sample.js
</span><span class="gi">+++ b/sample.js
</span><span class="p">@@ -1 +1 @@</span>
<span class="gd">-console.log("Hello World!")
</span><span class="gi">+console.log("Hello from Diff2Html!")
</span></code></pre></div></div> <p>But this is difficult to read, specially if you have a large diff. You can use <a href="https://diff2html.xyz/">diff2html</a> to display a more readable version of the diff. For this, just use <code class="language-plaintext highlighter-rouge">diff2html</code> instead of <code class="language-plaintext highlighter-rouge">diff</code> for the code block language:</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">diff2html
</span><span class="sb">diff --git a/sample.js b/sample.js
index 0000001..0ddf2ba
--- a/sample.js
+++ b/sample.js
@@ -1 +1 @@
-console.log("Hello World!")
+console.log("Hello from Diff2Html!")</span>
<span class="p">```</span>
</code></pre></div></div> <p>If we use a longer example, for example <a href="https://github.com/rtfpessoa/diff2html/commit/c2c253d3e3f8b8b267f551e659f72b44ca2ac927">this commit from diff2html</a>, it will generate the following output:</p> <pre><code class="language-diff2html">From 2aaae31cc2a37bfff83430c2c914b140bee59b6a Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sun, 9 Oct 2016 16:41:54 +0100
Subject: [PATCH 1/2] Initial template override support

---
 scripts/hulk.js                    |  4 ++--
 src/diff2html.js                   |  3 +--
 src/file-list-printer.js           | 11 ++++++++---
 src/hoganjs-utils.js               | 29 +++++++++++++++++------------
 src/html-printer.js                |  6 ++++++
 src/line-by-line-printer.js        |  6 +++++-
 src/side-by-side-printer.js        |  6 +++++-
 test/file-list-printer-tests.js    |  2 +-
 test/hogan-cache-tests.js          | 18 +++++++++++++++---
 test/line-by-line-tests.js         |  3 +--
 test/side-by-side-printer-tests.js |  3 +--
 11 files changed, 62 insertions(+), 29 deletions(-)

diff --git a/scripts/hulk.js b/scripts/hulk.js
index 5a793c18..a4b1a4d5 100755
--- a/scripts/hulk.js
+++ b/scripts/hulk.js
@@ -173,11 +173,11 @@ function namespace(name) {
 // write a template foreach file that matches template extension
 templates = extractFiles(options.argv.remain)
   .map(function(file) {
-    var openedFile = fs.readFileSync(file, 'utf-8');
+    var openedFile = fs.readFileSync(file, 'utf-8').trim();
     var name;
     if (!openedFile) return;
     name = namespace(path.basename(file).replace(/\..*$/, ''));
-    openedFile = removeByteOrderMark(openedFile.trim());
+    openedFile = removeByteOrderMark(openedFile);
     openedFile = wrap(file, name, openedFile);
     if (!options.outputdir) return openedFile;
     fs.writeFileSync(path.join(options.outputdir, name + '.js')
diff --git a/src/diff2html.js b/src/diff2html.js
index 21b0119e..64e138f5 100644
--- a/src/diff2html.js
+++ b/src/diff2html.js
@@ -7,7 +7,6 @@

 (function() {
   var diffParser = require('./diff-parser.js').DiffParser;
-  var fileLister = require('./file-list-printer.js').FileListPrinter;
   var htmlPrinter = require('./html-printer.js').HtmlPrinter;

   function Diff2Html() {
@@ -43,7 +42,7 @@

     var fileList = '';
     if (configOrEmpty.showFiles === true) {
-      fileList = fileLister.generateFileList(diffJson, configOrEmpty);
+      fileList = htmlPrinter.generateFileListSummary(diffJson, configOrEmpty);
     }

     var diffOutput = '';
diff --git a/src/file-list-printer.js b/src/file-list-printer.js
index e408d9b2..1e0a2c61 100644
--- a/src/file-list-printer.js
+++ b/src/file-list-printer.js
@@ -8,11 +8,16 @@
 (function() {
   var printerUtils = require('./printer-utils.js').PrinterUtils;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var baseTemplatesPath = 'file-summary';
   var iconsBaseTemplatesPath = 'icon';

-  function FileListPrinter() {
+  function FileListPrinter(config) {
+    this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   FileListPrinter.prototype.generateFileList = function(diffFiles) {
@@ -38,5 +43,5 @@
     });
   };

-  module.exports.FileListPrinter = new FileListPrinter();
+  module.exports.FileListPrinter = FileListPrinter;
 })();
diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 9949e5fa..0dda08d7 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -8,18 +8,19 @@
 (function() {
   var fs = require('fs');
   var path = require('path');
-
   var hogan = require('hogan.js');

   var hoganTemplates = require('./templates/diff2html-templates.js');

-  var templatesPath = path.resolve(__dirname, 'templates');
+  var extraTemplates;

-  function HoganJsUtils() {
+  function HoganJsUtils(configuration) {
+    this.config = configuration || {};
+    extraTemplates = this.config.templates || {};
   }

-  HoganJsUtils.prototype.render = function(namespace, view, params, configuration) {
-    var template = this.template(namespace, view, configuration);
+  HoganJsUtils.prototype.render = function(namespace, view, params) {
+    var template = this.template(namespace, view);
     if (template) {
       return template.render(params);
     }
@@ -27,17 +28,16 @@
     return null;
   };

-  HoganJsUtils.prototype.template = function(namespace, view, configuration) {
-    var config = configuration || {};
+  HoganJsUtils.prototype.template = function(namespace, view) {
     var templateKey = this._templateKey(namespace, view);

-    return this._getTemplate(templateKey, config);
+    return this._getTemplate(templateKey);
   };

-  HoganJsUtils.prototype._getTemplate = function(templateKey, config) {
+  HoganJsUtils.prototype._getTemplate = function(templateKey) {
     var template;

-    if (!config.noCache) {
+    if (!this.config.noCache) {
       template = this._readFromCache(templateKey);
     }

@@ -53,6 +53,7 @@

     try {
       if (fs.readFileSync) {
+        var templatesPath = path.resolve(__dirname, 'templates');
         var templatePath = path.join(templatesPath, templateKey);
         var templateContent = fs.readFileSync(templatePath + '.mustache', 'utf8');
         template = hogan.compile(templateContent);
@@ -66,12 +67,16 @@
   };

   HoganJsUtils.prototype._readFromCache = function(templateKey) {
-    return hoganTemplates[templateKey];
+    return extraTemplates[templateKey] || hoganTemplates[templateKey];
   };

   HoganJsUtils.prototype._templateKey = function(namespace, view) {
     return namespace + '-' + view;
   };

-  module.exports.HoganJsUtils = new HoganJsUtils();
+  HoganJsUtils.prototype.compile = function(templateStr) {
+    return hogan.compile(templateStr);
+  };
+
+  module.exports.HoganJsUtils = HoganJsUtils;
 })();
diff --git a/src/html-printer.js b/src/html-printer.js
index 585d5b66..13f83047 100644
--- a/src/html-printer.js
+++ b/src/html-printer.js
@@ -8,6 +8,7 @@
 (function() {
   var LineByLinePrinter = require('./line-by-line-printer.js').LineByLinePrinter;
   var SideBySidePrinter = require('./side-by-side-printer.js').SideBySidePrinter;
+  var FileListPrinter = require('./file-list-printer.js').FileListPrinter;

   function HtmlPrinter() {
   }
@@ -22,5 +23,10 @@
     return sideBySidePrinter.generateSideBySideJsonHtml(diffFiles);
   };

+  HtmlPrinter.prototype.generateFileListSummary = function(diffJson, config) {
+    var fileListPrinter = new FileListPrinter(config);
+    return fileListPrinter.generateFileList(diffJson);
+  };
+
   module.exports.HtmlPrinter = new HtmlPrinter();
 })();
diff --git a/src/line-by-line-printer.js b/src/line-by-line-printer.js
index b07eb53c..d230bedd 100644
--- a/src/line-by-line-printer.js
+++ b/src/line-by-line-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'line-by-line';
   var iconsBaseTemplatesPath = 'icon';
@@ -19,6 +20,9 @@

   function LineByLinePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   LineByLinePrinter.prototype.makeFileDiffHtml = function(file, diffs) {
diff --git a/src/side-by-side-printer.js b/src/side-by-side-printer.js
index bbf1dc8d..5e3033b3 100644
--- a/src/side-by-side-printer.js
+++ b/src/side-by-side-printer.js
@@ -11,7 +11,8 @@
   var utils = require('./utils.js').Utils;
   var Rematch = require('./rematch.js').Rematch;

-  var hoganUtils = require('./hoganjs-utils.js').HoganJsUtils;
+  var hoganUtils;
+
   var genericTemplatesPath = 'generic';
   var baseTemplatesPath = 'side-by-side';
   var iconsBaseTemplatesPath = 'icon';
@@ -26,6 +27,9 @@

   function SideBySidePrinter(config) {
     this.config = config;
+
+    var HoganJsUtils = require('./hoganjs-utils.js').HoganJsUtils;
+    hoganUtils = new HoganJsUtils(config);
   }

   SideBySidePrinter.prototype.makeDiffHtml = function(file, diffs) {
diff --git a/test/file-list-printer-tests.js b/test/file-list-printer-tests.js
index a502a46f..60ea3208 100644
--- a/test/file-list-printer-tests.js
+++ b/test/file-list-printer-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var fileListPrinter = require('../src/file-list-printer.js').FileListPrinter;
+var fileListPrinter = new (require('../src/file-list-printer.js').FileListPrinter)();

 describe('FileListPrinter', function() {
   describe('generateFileList', function() {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 190bf6f8..3bb754ac 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -1,6 +1,6 @@
 var assert = require('assert');

-var HoganJsUtils = require('../src/hoganjs-utils.js').HoganJsUtils;
+var HoganJsUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)();
 var diffParser = require('../src/diff-parser.js').DiffParser;

 describe('HoganJsUtils', function() {
@@ -21,16 +21,28 @@ describe('HoganJsUtils', function() {
       });
       assert.equal(emptyDiffHtml, result);
     });
+
     it('should render view without cache', function() {
       var result = HoganJsUtils.render('generic', 'empty-diff', {
         contentClass: 'd2h-code-line',
         diffParser: diffParser
       }, {noCache: true});
-      assert.equal(emptyDiffHtml + '\n', result);
+      assert.equal(emptyDiffHtml, result);
     });
+
     it('should return null if template is missing', function() {
-      var result = HoganJsUtils.render('generic', 'missing-template', {}, {noCache: true});
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)({noCache: true});
+      var result = hoganUtils.render('generic', 'missing-template', {});
       assert.equal(null, result);
     });
+
+    it('should allow templates to be overridden', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+
+      var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
diff --git a/test/line-by-line-tests.js b/test/line-by-line-tests.js
index 1cd92073..8869b3df 100644
--- a/test/line-by-line-tests.js
+++ b/test/line-by-line-tests.js
@@ -14,7 +14,7 @@ describe('LineByLinePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expected, fileHtml);
     });
@@ -422,7 +422,6 @@ describe('LineByLinePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                &lt;/tbody&gt;\n' +
         '            &lt;/table&gt;\n' +
         '        &lt;/div&gt;\n' +
diff --git a/test/side-by-side-printer-tests.js b/test/side-by-side-printer-tests.js
index 76625f8e..771daaa5 100644
--- a/test/side-by-side-printer-tests.js
+++ b/test/side-by-side-printer-tests.js
@@ -14,7 +14,7 @@ describe('SideBySidePrinter', function() {
         '            File without changes\n' +
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
-        '&lt;/tr&gt;\n';
+        '&lt;/tr&gt;';

       assert.equal(expectedRight, fileHtml.right);
       assert.equal(expectedLeft, fileHtml.left);
@@ -324,7 +324,6 @@ describe('SideBySidePrinter', function() {
         '        &lt;/div&gt;\n' +
         '    &lt;/td&gt;\n' +
         '&lt;/tr&gt;\n' +
-        '\n' +
         '                    &lt;/tbody&gt;\n' +
         '                &lt;/table&gt;\n' +
         '            &lt;/div&gt;\n' +

From f3cadb96677d0eb82fc2752dc3ffbf35ca9b5bdb Mon Sep 17 00:00:00 2001
From: Rodrigo Fernandes &lt;rtfrodrigo@gmail.com&gt;
Date: Sat, 15 Oct 2016 13:21:22 +0100
Subject: [PATCH 2/2] Allow uncompiled templates

---
 README.md                 |  3 +++
 src/hoganjs-utils.js      |  7 +++++++
 test/hogan-cache-tests.js | 24 +++++++++++++++++++++++-
 3 files changed, 33 insertions(+), 1 deletion(-)

diff --git a/README.md b/README.md
index 132c8a28..46909f25 100644
--- a/README.md
+++ b/README.md
@@ -98,6 +98,9 @@ The HTML output accepts a Javascript object with configuration. Possible options
   - `synchronisedScroll`: scroll both panes in side-by-side mode: `true` or `false`, default is `false`
   - `matchWordsThreshold`: similarity threshold for word matching, default is 0.25
   - `matchingMaxComparisons`: perform at most this much comparisons for line matching a block of changes, default is `2500`
+  - `templates`: object with previously compiled templates to replace parts of the html
+  - `rawTemplates`: object with raw not compiled templates to replace parts of the html
+  &gt; For more information regarding the possible templates look into [src/templates](https://github.com/rtfpessoa/diff2html/tree/master/src/templates)

 ## Diff2HtmlUI Helper

diff --git a/src/hoganjs-utils.js b/src/hoganjs-utils.js
index 0dda08d7..b2e9c275 100644
--- a/src/hoganjs-utils.js
+++ b/src/hoganjs-utils.js
@@ -17,6 +17,13 @@
   function HoganJsUtils(configuration) {
     this.config = configuration || {};
     extraTemplates = this.config.templates || {};
+
+    var rawTemplates = this.config.rawTemplates || {};
+    for (var templateName in rawTemplates) {
+      if (rawTemplates.hasOwnProperty(templateName)) {
+        if (!extraTemplates[templateName]) extraTemplates[templateName] = this.compile(rawTemplates[templateName]);
+      }
+    }
   }

   HoganJsUtils.prototype.render = function(namespace, view, params) {
diff --git a/test/hogan-cache-tests.js b/test/hogan-cache-tests.js
index 3bb754ac..a34839c0 100644
--- a/test/hogan-cache-tests.js
+++ b/test/hogan-cache-tests.js
@@ -36,7 +36,7 @@ describe('HoganJsUtils', function() {
       assert.equal(null, result);
     });

-    it('should allow templates to be overridden', function() {
+    it('should allow templates to be overridden with compiled templates', function() {
       var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');

       var config = {templates: {'generic-empty-diff': emptyDiffTemplate}};
@@ -44,5 +44,27 @@ describe('HoganJsUtils', function() {
       var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
       assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
     });
+
+    it('should allow templates to be overridden with uncompiled templates', function() {
+      var emptyDiffTemplate = '&lt;p&gt;&lt;/p&gt;';
+
+      var config = {rawTemplates: {'generic-empty-diff': emptyDiffTemplate}};
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
+
+    it('should allow templates to be overridden giving priority to compiled templates', function() {
+      var emptyDiffTemplate = HoganJsUtils.compile('&lt;p&gt;&lt;/p&gt;');
+      var emptyDiffTemplateUncompiled = '&lt;p&gt;Not used!&lt;/p&gt;';
+
+      var config = {
+        templates: {'generic-empty-diff': emptyDiffTemplate},
+        rawTemplates: {'generic-empty-diff': emptyDiffTemplateUncompiled}
+      };
+      var hoganUtils = new (require('../src/hoganjs-utils.js').HoganJsUtils)(config);
+      var result = hoganUtils.render('generic', 'empty-diff', {myName: 'Rodrigo Fernandes'});
+      assert.equal('&lt;p&gt;Rodrigo Fernandes&lt;/p&gt;', result);
+    });
   });
 });
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="code"/><summary type="html"><![CDATA[this is how you can display code diffs]]></summary></entry><entry><title type="html">a post with advanced image components</title><link href="https://gaigebell.github.io/blog/2024/advanced-images/" rel="alternate" type="text/html" title="a post with advanced image components"/><published>2024-01-27T11:46:00+00:00</published><updated>2024-01-27T11:46:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/advanced-images</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/advanced-images/"><![CDATA[<p>This is an example post with advanced image components.</p> <h2 id="image-slider">Image Slider</h2> <p>This is a simple image slider. It uses the <a href="https://swiperjs.com/">Swiper</a> library. Check the <a href="https://swiperjs.com/demos">examples page</a> for more information of what you can achieve with it.</p> <swiper-container keyboard="true" navigation="true" pagination="true" pagination-clickable="true" pagination-dynamic-bullets="true" rewind="true"> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/9-480.webp 480w,/assets/img/9-800.webp 800w,/assets/img/9-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/9.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/7-480.webp 480w,/assets/img/7-800.webp 800w,/assets/img/7-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/7.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/8-480.webp 480w,/assets/img/8-800.webp 800w,/assets/img/8-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/8.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/10-480.webp 480w,/assets/img/10-800.webp 800w,/assets/img/10-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/10.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> <swiper-slide> <figure> <picture> <source class="responsive-img-srcset" srcset="/assets/img/12-480.webp 480w,/assets/img/12-800.webp 800w,/assets/img/12-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/12.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="eager" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </swiper-slide> </swiper-container> <h2 id="image-comparison-slider">Image Comparison Slider</h2> <p>This is a simple image comparison slider. It uses the <a href="https://img-comparison-slider.sneas.io/">img-comparison-slider</a> library. Check the <a href="https://img-comparison-slider.sneas.io/examples.html">examples page</a> for more information of what you can achieve with it.</p> <img-comparison-slider> <figure slot="first"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic-480.webp 480w,/assets/img/prof_pic-800.webp 800w,/assets/img/prof_pic-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/prof_pic.jpg" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> <figure slot="second"> <picture> <source class="responsive-img-srcset" srcset="/assets/img/prof_pic_color-480.webp 480w,/assets/img/prof_pic_color-800.webp 800w,/assets/img/prof_pic_color-1400.webp 1400w," sizes="95vw" type="image/webp"/> <img src="/assets/img/prof_pic_color.png" class="img-fluid rounded z-depth-1" width="100%" height="auto" loading="lazy" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"/> </picture> </figure> </img-comparison-slider>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="images"/><summary type="html"><![CDATA[this is what advanced image components could look like]]></summary></entry><entry><title type="html">a post with vega lite</title><link href="https://gaigebell.github.io/blog/2024/vega-lite/" rel="alternate" type="text/html" title="a post with vega lite"/><published>2024-01-27T00:20:00+00:00</published><updated>2024-01-27T00:20:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/vega-lite</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/vega-lite/"><![CDATA[<p>This is an example post with some <a href="https://vega.github.io/vega-lite/">vega lite</a> code.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">vega_lite
</span><span class="sb">{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/main/docs/data/movies.json"
  },
  "transform": [
    {"filter": "datum['IMDB Rating'] != null"},
    {"filter": {"timeUnit": "year", "field": "Release Date", "range": [null, 2019]}},
    {
      "joinaggregate": [{
        "op": "mean",
        "field": "IMDB Rating",
        "as": "AverageRating"
      }]
    },
    {
      "calculate": "datum['IMDB Rating'] - datum.AverageRating",
      "as": "RatingDelta"
    }
  ],
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Release Date",
      "type": "temporal"
    },
    "y": {
      "field": "RatingDelta",
      "type": "quantitative",
      "title": "Rating Delta"
    },
    "color": {
      "field": "RatingDelta",
      "type": "quantitative",
      "scale": {"domainMid": 0},
      "title": "Rating Delta"
    }
  }
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-vega_lite">{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "A dot plot showing each movie in the database, and the difference from the average movie rating. The display is sorted by year to visualize everything in sequential order. The graph is for all Movies before 2019.",
  "data": {
    "url": "https://raw.githubusercontent.com/vega/vega/main/docs/data/movies.json"
  },
  "transform": [
    {"filter": "datum['IMDB Rating'] != null"},
    {"filter": {"timeUnit": "year", "field": "Release Date", "range": [null, 2019]}},
    {
      "joinaggregate": [{
        "op": "mean",
        "field": "IMDB Rating",
        "as": "AverageRating"
      }]
    },
    {
      "calculate": "datum['IMDB Rating'] - datum.AverageRating",
      "as": "RatingDelta"
    }
  ],
  "mark": "point",
  "encoding": {
    "x": {
      "field": "Release Date",
      "type": "temporal"
    },
    "y": {
      "field": "RatingDelta",
      "type": "quantitative",
      "title": "Rating Delta"
    },
    "color": {
      "field": "RatingDelta",
      "type": "quantitative",
      "scale": {"domainMid": 0},
      "title": "Rating Delta"
    }
  }
}
</code></pre> <p>This plot supports both light and dark themes.</p>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><summary type="html"><![CDATA[this is what included vega lite code could look like]]></summary></entry><entry><title type="html">a post with geojson</title><link href="https://gaigebell.github.io/blog/2024/geojson-map/" rel="alternate" type="text/html" title="a post with geojson"/><published>2024-01-26T17:57:00+00:00</published><updated>2024-01-26T17:57:00+00:00</updated><id>https://gaigebell.github.io/blog/2024/geojson-map</id><content type="html" xml:base="https://gaigebell.github.io/blog/2024/geojson-map/"><![CDATA[<p>This is an example post with some <a href="https://geojson.org/">geojson</a> code. The support is provided thanks to <a href="https://leafletjs.com/">Leaflet</a>. To create your own visualization, go to <a href="https://geojson.io/">geojson.io</a>.</p> <div class="language-markdown highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">```</span><span class="nl">geojson
</span><span class="sb">{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              -60.11363029935569,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -2.904625022183211
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}</span>
<span class="p">```</span>
</code></pre></div></div> <p>Which generates:</p> <pre><code class="language-geojson">{
  "type": "FeatureCollection",
  "features": [
    {
      "type": "Feature",
      "properties": {},
      "geometry": {
        "coordinates": [
          [
            [
              -60.11363029935569,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -3.162613728707967
            ],
            [
              -59.820894493858034,
              -2.904625022183211
            ],
            [
              -60.11363029935569,
              -2.904625022183211
            ]
          ]
        ],
        "type": "Polygon"
      }
    }
  ]
}
</code></pre>]]></content><author><name></name></author><category term="sample-posts"/><category term="formatting"/><category term="charts"/><category term="maps"/><summary type="html"><![CDATA[this is what included geojson code could look like]]></summary></entry></feed>